(function(V,N){typeof exports=="object"&&typeof module<"u"?N(exports,require("mitt"),require("vue"),require("ajv"),require("element-plus")):typeof define=="function"&&define.amd?define(["exports","mitt","vue","ajv","element-plus"],N):(V=typeof globalThis<"u"?globalThis:V||self,N(V.lib={},V.mitt,V.Vue,V.Ajv,V["element-plus"]))})(this,function(V,N,t,Z,y){"use strict";var ke=Object.defineProperty;var Ve=(V,N,t)=>N in V?ke(V,N,{enumerable:!0,configurable:!0,writable:!0,value:t}):V[N]=t;var k=(V,N,t)=>(Ve(V,typeof N!="symbol"?N+"":N,t),t);const W=o=>o&&typeof o=="object"&&"default"in o?o:{default:o},v=W(N),tt=W(Z);function S(o){return o.config.globalProperties.emitter}var j=(o=>(o.Object="object",o.Array="array",o.Boolean="boolean",o.Integer="integer",o))(j||{});function z(o){const e=[],a="slotName";return o&&!o.type&&(o.type=j.Object),U(o,e,a),{slotsName:e}}function U(o,e,a){switch(o.type){case j.Object:Object.keys(o.properties).forEach(r=>{const n=o.properties[r];U(n,e,a)});break;case j.Array:Object.keys(o.items.properties).forEach(r=>{const n=o.items.properties[r];U(n,e,a)});break;default:if(o.ui){const r=Object.keys(o.ui).filter(n=>n.startsWith(a));r&&r.length>0&&r.forEach(n=>{e.push(o.ui[n])})}break}}function et(){return{visibleIf:nt}}function nt(o,e,a,r){if(!e.ui||!e.ui.visibleIf)return a;const n=Object.keys(e.ui.visibleIf)[0],l=e.ui.visibleIf[n];return r=r||{},typeof l!="function"||n!==r.id?a:l.call(null,o,r.id,r.value)}const L="form-value-change",P="form-error-change",ot=t.defineComponent({name:"v-formly-v3-item"}),H=t.defineComponent({...ot,props:{id:null,show:{type:Boolean,default:!0},meta:null},setup(o){const e=o;let a=t.ref(!0);const{slotsName:r}=z(e.meta),n=t.inject("state"),l=t.computed(()=>`v-${e.meta.ui&&e.meta.ui.component||e.meta.type}`),i=t.computed(()=>n.layout);s();function s(){if(!e.meta.type)throw new Error("Form item type must be one of these: number, string, boolean, array, object");a.value=e.show,d(a.value,e.id);const{visibleIf:_}=et(),{appContext:c}=t.getCurrentInstance();S(c).on(`${L}-${n._formId}`,m=>{let p=_(n.context,e.meta,a.value,{id:m.id,value:m.value});p!==a.value&&(a.value=p,d(a.value,e.id))})}function d(_,c){_?n._ignoreErrorIds=n._ignoreErrorIds.filter(f=>f!==c):n._ignoreErrorIds.indexOf(c)===-1&&n._ignoreErrorIds.push(c)}return(_,c)=>(t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle({display:t.unref(i)==="inline"?"inline-block":"block"})},[t.unref(a)?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(l)),{key:0,id:o.id,meta:o.meta},t.createSlots({_:2},[t.renderList(t.unref(r),f=>({name:f,fn:t.withCtx(m=>[t.renderSlot(_.$slots,f,t.normalizeProps(t.guardReactiveProps({...m})))])}))]),1032,["id","meta"])):t.createCommentVNode("",!0)],4))}});class at{constructor(){k(this,"_map",new Map)}addContext(e,a){this._map.set(e,a)}removeContext(e){this._map.delete(e)}getContext(e){return this._map.get(e)}getContexts(){return this._map}getMap(){return this._map}}function J(o=8,e=10){const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=e||a.length,n=[];if(o)for(let l=0;l<o;l++)n[l]=a[0|Math.random()*r];else{let l;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(let i=0;i<36;i++)n[i]||(l=0|Math.random()*16,n[i]=a[i==19?l&3|8:l])}return n.join("")}function M(o){if(o===void 0)return;if(o===null)return null;const e=Object.assign({},o);return Object.keys(e).forEach(a=>e[a]=typeof o[a]=="object"?M(o[a]):o[a]),Array.isArray(o)?(e.length=o.length,Array.from(e)):e}const rt=Array.isArray,lt=o=>typeof o=="function",Y=o=>typeof o=="number";function q(){const{appContext:o}=t.getCurrentInstance(),e=o.config.globalProperties;return{appContext:o,globalProperties:e}}class st{constructor(){k(this,"_formId",J(4));k(this,"_ignoreErrorIds",[]);k(this,"_context");k(this,"_layout",t.ref("horizontal"));k(this,"_ajvOptions",{allErrors:!0,strict:!1,loopEnum:50});k(this,"_formData",t.ref({}));k(this,"_meta",{});k(this,"_ui",{ingoreKeywords:["type","enum"],spanLabel:5,spanControl:19,grid:{gutter:36,span:24},errors:{required:"\u5FC5\u586B\u9879"}});k(this,"_validate");this._applyUseOptions()}get context(){return this._context}set context(e){this._context=e}get layout(){return this._layout}set layout(e){this._layout=e}get ajvOptions(){return this._ajvOptions}set ajvOptions(e){this._ajvOptions=e}get formData(){return this._formData.value}set formData(e){this._formData.value=e}get meta(){return this._meta}set meta(e){this._meta=e}get ui(){return this._ui}set ui(e){this._ui=Object.assign({},this._ui,e)}get validate(){return this._validate}set validate(e){this._validate=e}updateObjProp(e,a,r){const[n,...l]=a.split("/").filter(i=>i);l.length?this.updateObjProp(e[n],l.join("/"),r):e&&(e[n]=r)}_applyUseOptions(){const{globalProperties:e}=q(),a=e.$VFORMLY_OPTIONS;!a||typeof a!="object"||(this.ui=a.ui)}}class it{constructor(e,a){k(this,"state");k(this,"_ajv");k(this,"_validate");k(this,"appContext");this.state=a,this._ajv=new tt.default(a.ajvOptions),this._validate=null,this.appContext=e}async runValidateForm(){const{valid:e,errors:a}=this._isAjvValid(),n=this.state.context.getContexts().values();let l=!0;for(const i of n)l=await this._validation(i,e,a)&&l;return l}async runValidationFormItem(e){const{valid:a,errors:r}=this._isAjvValid();return await this._validation(e,a,r)}_ajvValidate(e){if(this._validate)return this._validate;const a=M(e);return this._replaceReactiveToRawData(a),this._validate=this._ajv.compile(a),this._validate}_forceCompile(){const e=M(this.state.meta);this._replaceReactiveToRawData(e),this._validate=this._ajv.compile(e)}_replaceReactiveToRawData(e){var n;let a,r;switch(e.type){case j.Object:a=Object.values(e.properties),a.forEach(l=>{this._replaceReactiveToRawData(l)});break;case j.Array:r=Object.keys(e),r.forEach(l=>{t.isRef(e[l])&&(e[l]=e[l]._value)}),a=Object.values((n=e.items)==null?void 0:n.properties),a.forEach(l=>{this._replaceReactiveToRawData(l)});break;default:r=Object.keys(e),r.forEach(l=>{t.isRef(e[l])&&(e[l]=e[l]._value)});break}}_getAjvError(e,a){let r;for(let n=0;n<a.length;n++){const l=a[n],i=this._getId(l);if(e===i){r=l;break}}return r}_isAjvValid(){const e=this._ajvValidate(this.state.meta);return{valid:e(this.state.formData||{}),errors:e.errors}}async _validation(e,a,r){let n=[];const l=`${P}-${this.state._formId}`,i=S(this.appContext);if(a)return i.emit(l,{id:e.id,error:void 0}),!0;{const s=this._getCustomError(e),d=await this._getCustomAsyncError(e),_=[...s,...d];this._replaceWithDefaultErrors(e,r),this._replaceWithCustomErrors(e.id,r,_);const c=this.state.ui.ingoreKeywords||[];n=r.filter(m=>c.indexOf(m.keyword)===-1),n=this._removeIgnoreErrors(n);const f=this._getAjvError(e.id,n);return i.emit(l,{id:e.id,error:f}),!f}}_getCustomError(e){var r,n;const a=(n=(r=e.ui)==null?void 0:r.value)==null?void 0:n.validator;return a?a(e.value):[]}async _getCustomAsyncError(e){var r,n;const a=(n=(r=e.ui)==null?void 0:r.value)==null?void 0:n.validatorAsync;return a?await a(e.value):[]}_replaceWithDefaultErrors(e,a){var i,s;if(!a||a.length===0)return;const r=((s=(i=e.ui)==null?void 0:i.value)==null?void 0:s.errors)||{},n=Object.assign({},this.state.ui.errors,r),l=Object.keys(n);l&&l.length>0&&a.forEach(d=>{l.indexOf(d.keyword)>-1&&(d.message=n[d.keyword])})}_replaceWithCustomErrors(e,a,r){r.forEach(n=>{const l=a.find(i=>i.keyword===n.keyword&&this._getId(i)===e);l&&(l.message=n.message)})}_removeIgnoreErrors(e){const a=this.state._ignoreErrorIds;return!a||a.length===0?e:e.filter(n=>a.indexOf(this._getId(n))===-1)}_getId(e){return e.params&&e.params.missingProperty?`${e.instancePath?e.instancePath:""}/${e.params.missingProperty}`:`${e.instancePath}`}}const ct={class:"v__formly"},dt={name:"v-formly-v3"},ft=t.defineComponent({...dt,props:{modelValue:null,layout:{default:"horizontal"},button:null,meta:null},emits:["update:modelValue","form-reset","form-submit"],setup(o,{expose:e,emit:a}){const r=o;if(!r.meta||typeof r.meta.properties>"u")throw new Error("Invalid Schema");let n={type:j.Object},l=t.ref(!1);const i=new st;t.provide("state",i);const{slotsName:s}=z(r.meta),{appContext:d}=t.getCurrentInstance(),_=S(d);f();const c=t.computed(()=>r.layout==="inline");t.watch(()=>r.modelValue,(h,u)=>{JSON.stringify(h)!==JSON.stringify(u)&&C(h)},{deep:!1}),t.watch(()=>i.formData,(h,u)=>{a("update:modelValue",h)},{deep:!0});function f(){i.layout=t.toRef(r,"layout"),n=Object.assign({},n,r.meta),i.meta=n,i.formData=Object.assign({},r.modelValue),m(i.formData,r.meta.properties),i.context=new at,i.validate=new it(d,i)}function m(h,u){Object.keys(u).forEach(w=>{const E=u[w];if(E.type!=="null")switch(E.type){case j.Object:h[w]=h[w]||{},m(h[w],E.properties);break;case j.Array:h[w]=h[w]||[];break;case j.Boolean:break;default:h[w]=h[w]||void 0;break}})}function p(h){return i.context.getContext(h)}async function g(){return await i.validate.runValidateForm()}function C(h){const u=i.context.getContext("/");u&&(u.value=h,a("update:modelValue",i.formData))}function b(){a("form-reset",t.toRaw(i.formData)),C({})}async function x(){l.value=!0;const h=await g();l.value=!1,a("form-submit",{valid:h,data:h?t.toRaw(i.formData):void 0})}return t.onBeforeUnmount(()=>{_.all.clear()}),e({getContext:p,validate:g,reset:C,clearForm:b,submitForm:x}),(h,u)=>{const w=t.resolveComponent("el-button"),E=t.resolveComponent("el-space"),D=t.resolveComponent("el-form-item"),F=t.resolveComponent("el-form");return t.openBlock(),t.createElementBlock("div",ct,[t.createVNode(F,{class:t.normalizeClass(["v",{v__inline:t.unref(c),v__horizontal:o.layout==="horizontal"}]),inline:t.unref(c),"label-width":t.unref(c)?null:"120px","label-position":o.layout==="vertical"?"top":"right"},{default:t.withCtx(()=>[t.createVNode(H,{id:"/",meta:t.unref(n)},t.createSlots({_:2},[t.renderList(t.unref(s),T=>({name:T,fn:t.withCtx(K=>[t.renderSlot(h.$slots,T,t.normalizeProps(t.guardReactiveProps({...K})))])}))]),1032,["meta"]),o.button==="default"?(t.openBlock(),t.createBlock(D,{key:0,class:"v__default-submit-button"},{default:t.withCtx(()=>[t.createVNode(E,null,{default:t.withCtx(()=>[t.createVNode(w,{type:"danger",onClick:b},{default:t.withCtx(()=>[t.createTextVNode(" \u91CD\u7F6E ")]),_:1}),t.createVNode(w,{type:"primary",onClick:x,loading:t.unref(l)},{default:t.withCtx(()=>[t.createTextVNode(" \u63D0\u4EA4 ")]),_:1},8,["loading"])]),_:1})]),_:1})):o.button==="custom"?t.renderSlot(h.$slots,"button",{key:1,loading:t.unref(l),clearForm:b,submitForm:x}):(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[],64))]),_:3},8,["inline","label-width","label-position","class"])])}}}),mt=["title"],pt={key:0,class:"v__optional"},ut=["innerHTML"],ht={name:"v-wrapper"},_t=t.defineComponent({...ht,props:{id:null,show:{type:Boolean},meta:null},setup(o){const e=o,{globalProperties:a}=q(),r=t.inject("state"),n=r.context.getContext(e.id),l=t.computed(()=>Object.assign({},r.ui,e.meta.ui)),i=t.toRef(l.value,"size"),s=t.computed(()=>Object.assign({},r.ui,e.meta.ui).optionalHelp),d=t.computed({get(){return n.error.value},set(m){n.error.value=m}}),{appContext:_}=t.getCurrentInstance(),c=S(_);c.on(`${P}-${r._formId}`,f),t.onBeforeUnmount(()=>{c.off(`${P}-${r._formId}`,f)});function f(m){m.id===e.id&&(d.value=m.error?m.error.message:void 0)}return(m,p)=>{const g=t.resolveComponent("el-icon"),C=t.resolveComponent("el-tooltip"),b=t.resolveComponent("el-form-item");return t.openBlock(),t.createBlock(b,{required:t.unref(l).showRequired,error:t.unref(d),size:t.unref(i),class:t.normalizeClass([{"no-label":!o.meta.title}])},t.createSlots({default:t.withCtx(()=>[t.renderSlot(m.$slots,"default",{},void 0,!0),o.meta.description?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:o.meta.description},null,8,ut)):t.createCommentVNode("",!0)]),_:2},[o.meta.title?{name:"label",fn:t.withCtx(()=>[t.createElementVNode("span",{class:"v__label-text",title:o.meta.title},t.toDisplayString(o.meta.title),9,mt),t.unref(l).optional||t.unref(s)?(t.openBlock(),t.createElementBlock("span",pt,[t.createTextVNode(t.toDisplayString(t.unref(l).optional)+" ",1),t.unref(s).icon?(t.openBlock(),t.createBlock(C,t.mergeProps({key:0},t.unref(s),{placement:t.unref(s).placement||"top"}),{default:t.withCtx(()=>[t.createVNode(g,null,{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(a).$elIcons[t.unref(s).icon])))]),_:1})]),_:1},16,["placement"])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["required","error","size","class"])}}}),we="",G=(o,e)=>{const a=o.__vccOpts||o;for(const[r,n]of e)a[r]=n;return a},B=G(_t,[["__scopeId","data-v-c400b7ff"]]);class I{constructor(e,a,r,n){k(this,"id");k(this,"state");k(this,"meta",t.ref({}));k(this,"type");k(this,"ui",t.ref({}));k(this,"error",t.ref(void 0));k(this,"_value",t.ref());k(this,"_initMetaValue");k(this,"appContext");if(this.constructor==I)throw new Error("Abstract classes can't be instantiated.");this.id=r,this.state=a,this.meta.value=n,this.type=n.ui&&n.ui.component||n.type,this.ui.value=Object.assign({},a.ui,n.ui),this.appContext=e,this.error.value=void 0,a.context.addContext(r,this),this._value.value=void 0,this._initMetaValue=this.getInitMetaValue()}get value(){return this._value.value}set value(e){if(this._value.value===e)return;this.setValue(e),S(this.appContext).emit(`${L}-${this.state._formId}`,{id:this.id,value:this._value.value}),this.state.updateObjProp(this.state.formData,this.id,this._value.value),this.state.validate.runValidationFormItem(this)}getInitMetaValue(){const e=this.id.split("/").filter(r=>r);let a="";return e.reduce((r,n,l)=>(l===e.length-1&&(a=r[n]),r[n]||{}),this.state.formData),a}}class gt extends I{constructor(a,r,n,l){super(a,r,n,l);k(this,"childMetaPairs");this.childMetaPairs=this.buildChildMetaPairs(n,l),r.context.addContext(n,this)}initValue(){}setValue(){}set value(a){this.childMetaPairs.forEach(({key:r,propertyName:n})=>{const l=this.state.context.getContext(r);l&&(l.value=(a||{})[n])})}buildChildMetaPairs(a,r){const n=[];for(const l of Object.keys(r.properties||{})){const i=a==="/"?`/${l}`:`${a}/${l}`;n.push({key:i,propertyName:l,meta:r.properties[l]})}return n}}const Ct=t.defineComponent({name:"v-object"}),bt=t.defineComponent({...Ct,props:{id:null,meta:null},setup(o){const e=o,{slotsName:a}=z(e.meta),r=t.inject("state"),{appContext:n}=t.getCurrentInstance(),l=new gt(n,r,e.id,e.meta),i=t.computed(()=>l.ui.value||{}),s=t.computed(()=>d.value==="inline"?0:Object.assign({},r.ui.grid,i.value.grid).gutter),d=t.computed(()=>r.layout.value);function _(m){return m.ui&&m.ui.show}function c(m){if(d.value==="inline")return{span:null};const p=m.meta.ui&&m.meta.ui.grid||{};return Object.assign({},r.ui.grid,i.value.grid,p)}const f=l.childMetaPairs;return(m,p)=>{const g=t.resolveComponent("el-col"),C=t.resolveComponent("el-row");return t.openBlock(),t.createBlock(C,{gutter:t.unref(s)},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(f),(b,x)=>(t.openBlock(),t.createBlock(g,{key:x,span:c(b).span,offset:c(b).offset,xs:c(b).xs,sm:c(b).sm,md:c(b).md,lg:c(b).lg,xl:c(b).xl,xxl:c(b).xxl,style:t.normalizeStyle({display:t.unref(d)==="inline"?"inline-block":"block"})},{default:t.withCtx(()=>[t.createVNode(H,{id:b.key,meta:b.meta,show:_(b.meta)},t.createSlots({_:2},[t.renderList(t.unref(a),h=>({name:h,fn:t.withCtx(u=>[t.renderSlot(m.$slots,h,t.normalizeProps(t.guardReactiveProps({...u})))])}))]),1032,["id","meta","show"])]),_:2},1032,["span","offset","xs","sm","md","lg","xl","xxl","style"]))),128))]),_:3},8,["gutter"])}}});class R extends I{constructor(a,r,n,l){var i;super(a,r,n,l);k(this,"open");this.initValue(),this.meta.value&&(this.open=((i=this.meta.value.ui)==null?void 0:i.open)||!1)}initValue(){this._initMetaValue?this.value=this._initMetaValue:this.meta.value.default&&(this.value=this.meta.value.default)}setValue(a){this._value.value=a||void 0}}function $(o,e){const a=t.ref({});return Object.keys(e.value).forEach(n=>{o.indexOf(n)>-1&&(a.value[n]=t.toRef(e.value,n))}),{bindings:a}}const yt=t.defineComponent({name:"v-string"}),xt=t.defineComponent({...yt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta);let{bindings:l}=$(Object.keys(y.ElInput.props),n.ui);const i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(f){n.value=f}});function _(f){s.value.change&&s.value.change(f)}function c(f){s.value.input&&s.value.input(f)}return(f,m)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElInput),t.mergeProps(t.unref(l),{disabled:t.unref(i),minlength:o.meta.minLength,maxlength:o.meta.maxLength,modelValue:t.unref(d),"onUpdate:modelValue":m[0]||(m[0]=p=>t.isRef(d)?d.value=p:null),onChange:_,onInput:c}),t.createSlots({_:2},[t.unref(s).slotNameOfPrefix?{name:"prefix",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfPrefix)]),key:"0"}:void 0,t.unref(s).slotNameOfSuffix?{name:"suffix",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfSuffix)]),key:"1"}:void 0,t.unref(s).slotNameOfPrepend?{name:"prepend",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfPrepend)]),key:"2"}:void 0,t.unref(s).slotNameOfAppend?{name:"append",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfAppend)]),key:"3"}:void 0]),1040,["disabled","minlength","maxlength","modelValue"])]),_:3},8,["id","meta"]))}});class kt extends I{constructor(e,a,r,n){super(e,a,r,n),this.initValue()}initValue(){typeof this._initMetaValue<"u"?this.value=this._initMetaValue:typeof this.meta.value.default=="boolean"&&(this.value=this.meta.value.default)}setValue(e){this._value.value=e||!1}}const Vt=t.defineComponent({name:"v-boolean"}),wt=t.defineComponent({...Vt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new kt(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElSwitch.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{});l.value.style=t.toRef(s.value,"style");const d=t.computed({get(){return n.value},set(c){n.value=c||!1}});function _(c){s.value.change&&s.value.change(c)}return(c,f)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElSwitch),t.mergeProps({class:"v__boolean",modelValue:t.unref(d),"onUpdate:modelValue":f[0]||(f[0]=m=>t.isRef(d)?d.value=m:null)},t.unref(l),{disabled:t.unref(i),onChange:_}),null,16,["modelValue","disabled"])]),_:1},8,["id","meta"]))}}),Ot=t.defineComponent({name:"v-autocomplete"}),Et=t.defineComponent({...Ot,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElAutocomplete.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(f){n.value=f||void 0}});function _(f){s.value.change&&s.value.change(t.unref(f))}function c(f){s.value.select&&s.value.select(f)}return(f,m)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElAutocomplete),t.mergeProps(t.unref(l),{disabled:t.unref(i),modelValue:t.unref(d),"onUpdate:modelValue":m[0]||(m[0]=p=>t.isRef(d)?d.value=p:null),onChange:_,onSelect:c}),t.createSlots({_:2},[t.unref(s).slotNameOfPrefix?{name:"prefix",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfPrefix)]),key:"0"}:void 0,t.unref(s).slotNameOfSuffix?{name:"suffix",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfSuffix)]),key:"1"}:void 0,t.unref(s).slotNameOfPrepend?{name:"prepend",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfPrepend)]),key:"2"}:void 0,t.unref(s).slotNameOfAppend?{name:"append",fn:t.withCtx(()=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfAppend)]),key:"3"}:void 0,t.unref(s).slotNameOfDefault?{name:"default",fn:t.withCtx(p=>[t.renderSlot(f.$slots,t.unref(s).slotNameOfDefault,t.normalizeProps(t.guardReactiveProps(p)))]),key:"4"}:void 0]),1040,["disabled","modelValue"])]),_:3},8,["id","meta"]))}}),Bt=t.defineComponent({name:"v-checkbox"}),$t=t.defineComponent({...Bt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),l=t.computed(()=>n.ui.value||{});let i=t.ref();if(l.value.group){const{bindings:c}=$(Object.keys(y.ElCheckboxGroup.props),n.ui);i.value=c.value}else{const{bindings:c}=$(Object.keys(y.ElCheckbox.props),n.ui);i.value=c.value}const s=t.toRef(e.meta,"readOnly"),d=t.computed({get(){return n.value},set(c){n.value=c}});function _(c){l.value.change&&l.value.change(c)}return(c,f)=>{const m=t.resolveComponent("el-checkbox-button");return t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.unref(l).group?(t.openBlock(),t.createBlock(t.unref(y.ElCheckboxGroup),t.mergeProps({key:0,class:"v__checkbox",modelValue:t.unref(d),"onUpdate:modelValue":f[0]||(f[0]=p=>t.isRef(d)?d.value=p:null)},t.unref(i),{disabled:t.unref(s),onChange:_}),{default:t.withCtx(()=>[t.unref(l).button?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(t.unref(l).options,(p,g)=>(t.openBlock(),t.createBlock(m,{key:g,label:p.label},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(p.label),1)]),_:2},1032,["label"]))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(t.unref(l).options,(p,g)=>(t.openBlock(),t.createBlock(t.unref(y.ElCheckbox),{key:g,label:p.label,disabled:p.disabled},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(p.label),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},16,["modelValue","disabled"])):(t.openBlock(),t.createBlock(t.unref(y.ElCheckbox),t.mergeProps({key:1,class:"v__checkbox",modelValue:t.unref(d),"onUpdate:modelValue":f[1]||(f[1]=p=>t.isRef(d)?d.value=p:null)},t.unref(i),{disabled:o.meta.readOnly,onChange:_}),null,16,["modelValue","disabled"]))]),_:1},8,["id","meta"])}}}),Nt=t.defineComponent({name:"v-date"}),jt=t.defineComponent({...Nt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElDatePicker.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(c){n.value=c}});function _(c){s.value.change&&s.value.change(c)}return(c,f)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElDatePicker),t.mergeProps({modelValue:t.unref(d),"onUpdate:modelValue":f[0]||(f[0]=m=>t.isRef(d)?d.value=m:null)},t.unref(l),{disabled:t.unref(i),onChange:_}),t.createSlots({_:2},[t.unref(s).slotNameOfRangeSeparator?{name:"range-separator",fn:t.withCtx(()=>[t.renderSlot(c.$slots,t.unref(s).slotNameOfRangeSeparator)]),key:"0"}:void 0,t.unref(s).slotNameOfDefault?{name:"default",fn:t.withCtx(m=>[t.createElementVNode("span",null,[t.renderSlot(c.$slots,t.unref(s).slotNameOfDefault,t.normalizeProps(t.guardReactiveProps(m)))])]),key:"1"}:void 0]),1040,["modelValue","disabled"])]),_:3},8,["id","meta"]))}}),Rt=t.defineComponent({name:"v-time"}),It=t.defineComponent({...Rt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElTimePicker.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(c){n.value=c}});function _(c){s.value.change&&s.value.change(c)}return(c,f)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElTimePicker),t.mergeProps({class:"v__time",modelValue:t.unref(d),"onUpdate:modelValue":f[0]||(f[0]=m=>t.isRef(d)?d.value=m:null)},t.unref(l),{disabled:t.unref(i),onChange:_}),null,16,["modelValue","disabled"])]),_:1},8,["id","meta"]))}});class A extends I{constructor(e,a,r,n){super(e,a,r,n),this.initValue()}initValue(){this._initMetaValue?this.value=this._initMetaValue:t.unref(this.meta).default&&(this.value=t.unref(this.meta).default)}setValue(e){switch(this.type){case"slider":this._value.value=rt(e)||Y(e)?e:void 0;break;default:this._value.value=e||void 0;break}}}const St=t.defineComponent({name:"v-number"}),Dt=t.defineComponent({...St,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new A(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElInputNumber.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.toRef(e.meta,"minimum"),d=t.toRef(e.meta,"maximum"),_=t.computed(()=>n.ui.value||{}),c=t.computed({get(){return n.value},set(m){n.value=m}});function f(m,p){_.value.change&&_.value.change(m,p)}return(m,p)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElInputNumber),t.mergeProps({class:"v__number",modelValue:t.unref(c),"onUpdate:modelValue":p[0]||(p[0]=g=>t.isRef(c)?c.value=g:null)},t.unref(l),{disabled:t.unref(i),min:t.unref(s),max:t.unref(d),onChange:f}),null,16,["modelValue","disabled","min","max"])]),_:1},8,["id","meta"]))}});class Pt extends I{constructor(a,r,n,l){super(a,r,n,l);k(this,"ids",t.ref([]));this.initValue()}setValue(){}initValue(){var a,r;if(((a=this._initMetaValue)==null?void 0:a.length)>0)this.value=this._initMetaValue;else if(((r=t.unref(this.meta).default)==null?void 0:r.length)>0){const n=t.unref(this.meta).default;n.forEach(()=>this.add(!1)),setTimeout(()=>{n.forEach((l,i)=>{const s=this.state.context.getContext(`${this.id}/${i}`);s.value=l})}),this.validate()}}get value(){return this.getPathValue(this.state.formData,this.id)||[]}set value(a){if(this.value.length===0&&(a==null?void 0:a.length)===0||!Array.isArray(a)&&a!=null)return;const r=M(a),n=t.unref(this.ids).length;for(let l=0;l<n;l++)this.remove(n-l-1,!1);r&&r.length&&(r.forEach(()=>this.add(!1)),t.nextTick(()=>{r.forEach((l,i)=>{const s=this.state.context.getContext(`${this.id}/${i}`);s.value=l})})),this.validate()}validate(){return this.state.validate.runValidationFormItem(this)}getPathValue(a,r){const n=r.split("/").filter(i=>i);let l=M(a);for(let i=0;i<n.length;i++){const s=n[i];l=l[s]}return l}getEmptyData(){const a={},r=t.unref(this.meta).items.properties;return Object.keys(r).forEach(n=>{switch(r[n].type){case"object":a[n]={};break;case"array":a[n]=[];break;default:a[n]=void 0;break}}),a}add(a=!0){const r=`${this.id}/${t.unref(this.ids).length}`,n=this.getEmptyData();return this.state.updateObjProp(this.state.formData,r,n),this.ids.value.push({key:J()}),a&&this.validate(),r}remove(a,r=!0){this.ids.value.splice(a,1);const n=this.id.split("/").filter(s=>!!s);n.reduce((s,d,_)=>(_===n.length-1&&s[d].splice(a,1),s[d]),this.state.formData);const l=[];for(const s of this.state.context.getMap().keys())new RegExp(`^/?${this.id}/`).test(s)&&l.push(s);for(let s=a+1;s<t.unref(this.ids).length+1;s++){const d=new RegExp(`^(/?${this.id}/)${s}`);l.filter(_=>d.test(_)).forEach(_=>{const c=this.state.context.getContext(_),f=_.replace(d,(m,p)=>`${p}${s-1}`);if(c.id=f,c.childMetaPairs){const m=c.buildChildMetaPairs(f,t.unref(c.meta));c.childMetaPairs.forEach((p,g)=>{p.key=m[g].key})}this.state.context.addContext(f,c)})}const i=new RegExp(`^/?${this.id}/${t.unref(this.ids).length}`);l.filter(s=>i.test(s)).forEach(s=>{this.state.context.removeContext(s)}),r&&this.validate()}}/*! Element Plus Icons Vue v2.0.10 */var Mt=(o,e)=>{let a=o.__vccOpts||o;for(let[r,n]of e)a[r]=n;return a},At={name:"Delete"},Ft={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tt=t.createElementVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),zt=[Tt];function Ut(o,e,a,r,n,l){return t.openBlock(),t.createElementBlock("svg",Ft,zt)}var Lt=Mt(At,[["render",Ut],["__file","delete.vue"]]);const Ht=["title"],qt={key:0,class:"v__optional"},Gt={class:"v__array-add"},Kt=["onClick"],Wt=t.defineComponent({name:"v-array"}),Jt=t.defineComponent({...Wt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{globalProperties:r}=q(),{appContext:n}=t.getCurrentInstance(),l=new Pt(n,a,e.id,e.meta),i=S(n),s=t.computed(()=>t.unref(l.ui)||{}),d=t.computed(()=>Object.assign({},a.ui,e.meta.ui).optionalHelp);t.computed({get(){return l.value},set(u){l.value=u||[]}});const _=t.computed({get(){return t.unref(l.error)},set(u){l.error.value=u}}),c=t.toRef(e.meta,"readOnly"),f=t.computed(()=>t.unref(c)||e.meta.maxItems!=null&&t.unref(l.ids).length>=e.meta.maxItems),m=t.computed(()=>{const u=e.meta.minItems;return!(t.unref(c)||u!=null&&t.unref(l.ids).length<=u)}),p=t.ref(8),g=t.ref("");t.onMounted(()=>{var D;i.on(`${P}-${a._formId}`,C);const{grid:u,removable:w,removeTitle:E}=t.unref(s);p.value=(D=u==null?void 0:u.arraySpan)!=null?D:8,g.value=w===!1?null:E}),t.onBeforeUnmount(()=>{i.off(`${P}-${a._formId}`,C)});function C(u){u.id===e.id&&(_.value=u.error?u.error.message:void 0)}function b(u){return`${e.id}/${u}`}function x(){var w,E;const u=l.add();(E=(w=t.unref(s)).add)==null||E.call(w,u)}function h(u){var w,E;l.remove(u),(E=(w=t.unref(s)).remove)==null||E.call(w,u)}return(u,w)=>{const E=t.resolveComponent("el-icon"),D=t.resolveComponent("el-tooltip"),F=t.resolveComponent("el-button"),T=t.resolveComponent("el-card"),K=t.resolveComponent("el-col"),be=t.resolveComponent("el-row"),ye=t.resolveComponent("el-form-item");return t.openBlock(),t.createBlock(ye,{required:t.unref(s).showRequired,error:t.unref(_),size:t.unref(s).size,class:t.normalizeClass([{"no-label":!o.meta.title}])},t.createSlots({default:t.withCtx(()=>[t.createElementVNode("div",Gt,[t.createVNode(F,{type:t.unref(s).addType,disabled:t.unref(f),onClick:x},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(t.unref(s).addTitle||"\u6DFB\u52A0"),1)]),_:1},8,["type","disabled"])]),t.createVNode(be,{class:"v__array-container",gutter:16},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(l).ids.value,(xe,X)=>(t.openBlock(),t.createBlock(K,{key:xe.key,span:p.value,class:"v__array-item"},{default:t.withCtx(()=>[t.createVNode(T,{shadow:"never"},{default:t.withCtx(()=>[t.createVNode(H,{id:b(X),meta:o.meta.items},null,8,["id","meta"]),t.unref(m)?(t.openBlock(),t.createElementBlock("span",{key:0,class:"v__array-remove",onClick:Ne=>h(X)},[t.createVNode(F,{icon:t.unref(Lt),circle:""},null,8,["icon"])],8,Kt)):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["span"]))),128))]),_:1})]),_:2},[o.meta.title?{name:"label",fn:t.withCtx(()=>[t.createElementVNode("span",{class:"v__label-text",title:o.meta.title},t.toDisplayString(o.meta.title),9,Ht),t.unref(s).optional||t.unref(d)?(t.openBlock(),t.createElementBlock("span",qt,[t.createTextVNode(t.toDisplayString(t.unref(s).optional)+" ",1),t.unref(d).icon?(t.openBlock(),t.createBlock(D,t.mergeProps({key:0},t.unref(d),{placement:t.unref(d).placement||"top"}),{default:t.withCtx(()=>[t.createVNode(E,null,{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(r).$elIcons[t.unref(d).icon])))]),_:1})]),_:1},16,["placement"])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["required","error","size","class"])}}}),Oe="",Yt=G(Jt,[["__scopeId","data-v-09ce9ceb"]]),Qt={class:"v__label-text"},Xt=["innerHTML"],Zt=["textContent"],vt=t.defineComponent({name:"v-text"}),te=t.defineComponent({...vt,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),l=t.computed(()=>n.ui.value||{}),i=t.computed(()=>lt(t.unref(l).text)?t.unref(l).text():t.unref(l).text);return(s,d)=>{const _=t.resolveComponent("el-form-item");return t.openBlock(),t.createElementBlock("div",null,[t.createVNode(_,{class:t.normalizeClass({"no-label":!o.meta.title})},t.createSlots({default:t.withCtx(()=>[t.unref(l).slotNameOfDefault?t.renderSlot(s.$slots,t.unref(l).slotNameOfDefault,{key:0}):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.unref(l).html?(t.openBlock(),t.createElementBlock("span",{key:0,innerHTML:t.unref(l).html,class:"v__content-text"},null,8,Xt)):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(t.unref(i)),class:"v__content-text"},null,8,Zt))],64))]),_:2},[o.meta.title?{name:"label",fn:t.withCtx(()=>[t.createElementVNode("span",Qt,t.toDisplayString(o.meta.title),1)]),key:"0"}:void 0]),1032,["class"])])}}});function ee(o,e){t.watch(o,()=>{e.validate._forceCompile()})}const ne=t.defineComponent({name:"v-slider"}),oe=t.defineComponent({...ne,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new A(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElSlider.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.toRef(e.meta,"minimum"),d=t.toRef(e.meta,"maximum"),_=t.toRef(e.meta,"multipleOf");ee([s,d,_],a);const c=t.computed(()=>n.ui.value||{}),f=t.computed({get(){return n.value},set(g){c.value.range?n.value=g||[]:n.value=Y(g)?g:void 0}});function m(g){var C,b;(b=(C=t.unref(c)).input)==null||b.call(C,g)}function p(g){var C,b;(b=(C=t.unref(c)).change)==null||b.call(C,g)}return(g,C)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElSlider),t.mergeProps(t.unref(l),{disabled:t.unref(i),min:t.unref(s)||0,max:t.unref(d)||100,step:t.unref(_)||1,modelValue:t.unref(f),"onUpdate:modelValue":C[0]||(C[0]=b=>t.isRef(f)?f.value=b:null),onInput:m,onChange:p}),null,16,["disabled","min","max","step","modelValue"])]),_:1},8,["id","meta"]))}}),ae=t.defineComponent({name:"v-rate"}),re=t.defineComponent({...ae,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new A(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElRate.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(c){n.value=c}});function _(c){var f,m;(m=(f=t.unref(s)).change)==null||m.call(f,c)}return(c,f)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElRate),t.mergeProps(t.unref(l),{disabled:t.unref(i),max:o.meta.maximum||5,modelValue:t.unref(d),"onUpdate:modelValue":f[0]||(f[0]=m=>t.isRef(d)?d.value=m:null),onChange:_}),null,16,["disabled","max","modelValue"])]),_:1},8,["id","meta"]))}}),le=t.defineComponent({name:"v-tag"}),se=t.defineComponent({...le,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new A(r,a,e.id,e.meta),l=t.toRef(e.meta,"readOnly"),i=t.ref([]),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(m){s.value.range?n.value=m||[]:n.value=m}});t.watch(()=>t.unref(n.meta).enum,f,{immediate:!0});function _(m,p){var g,C,b,x;m.disabled||(m.checked=p,c(),(C=(g=t.unref(s)).checkedChange)==null||C.call(g,p),(x=(b=t.unref(s)).change)==null||x.call(b,t.toRaw(t.unref(d))))}function c(){const m=t.unref(i).filter(p=>p.checked).map(p=>p.value);d.value=m.length?m:void 0}function f(m){let p=t.unref(m);p==null||!Array.isArray(p)||p.length===0||(typeof p[0]!="object"&&(p=p.map(g=>({label:g,value:g}))),p.forEach(g=>{g.checked=(d.value||[]).indexOf(g.value)>-1}),p.forEach(g=>g.disabled=e.meta.readOnly),i.value=p)}return(m,p)=>{const g=t.resolveComponent("el-check-tag");return t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,C=>(t.openBlock(),t.createBlock(g,{key:C.value,class:t.normalizeClass({disabled:C.disabled||t.unref(l)}),checked:C.checked,onChange:b=>_(C,b)},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(C.label),1)]),_:2},1032,["class","checked","onChange"]))),128))]),_:1},8,["id","meta"])}}}),Ee="",ie=G(se,[["__scopeId","data-v-880329a9"]]),ce=t.defineComponent({name:"v-cascader"}),de=t.defineComponent({...ce,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElCascader.props),n.ui),i=$(Object.keys(y.ElCascaderPanel.props),n.ui).bindings,s=t.toRef(e.meta,"readOnly"),d=t.computed(()=>n.ui.value||{}),_=t.computed(()=>t.unref(d).type==="panel"),c=t.computed({get(){return n.value},set(x){n.value=x}});function f(x){var h,u;(u=(h=t.unref(d)).change)==null||u.call(h,x)}function m(x){var h,u;(u=(h=t.unref(d)).visibleChange)==null||u.call(h,x)}function p(x){var h,u;(u=(h=t.unref(d)).expandChange)==null||u.call(h,x)}function g(x){var h,u;(u=(h=t.unref(d)).removeTag)==null||u.call(h,x)}function C(x){var h,u;(u=(h=t.unref(d)).blur)==null||u.call(h,x)}function b(x){var h,u;(u=(h=t.unref(d)).focus)==null||u.call(h,x)}return(x,h)=>(t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.unref(_)?(t.openBlock(),t.createBlock(t.unref(y.ElCascaderPanel),t.mergeProps({key:0},t.unref(i),{disabled:t.unref(s),options:o.meta.enum,modelValue:t.unref(c),"onUpdate:modelValue":h[0]||(h[0]=u=>t.isRef(c)?c.value=u:null),onChange:f,onExpandChange:p}),t.createSlots({_:2},[t.unref(d).slotNameOfDefault?{name:"default",fn:t.withCtx(u=>[t.renderSlot(x.$slots,t.unref(d).slotNameOfDefault,t.normalizeProps(t.guardReactiveProps(u)))]),key:"0"}:void 0]),1040,["disabled","options","modelValue"])):(t.openBlock(),t.createBlock(t.unref(y.ElCascader),t.mergeProps({key:1},t.unref(l),{disabled:t.unref(s),options:o.meta.enum,modelValue:t.unref(c),"onUpdate:modelValue":h[1]||(h[1]=u=>t.isRef(c)?c.value=u:null),onChange:f,onVisibleChange:m,onExpandChange:p,onRemoveTag:g,onBlur:C,onFocus:b}),t.createSlots({_:2},[t.unref(d).slotNameOfDefault?{name:"default",fn:t.withCtx(u=>[t.renderSlot(x.$slots,t.unref(d).slotNameOfDefault,t.normalizeProps(t.guardReactiveProps(u)))]),key:"0"}:void 0]),1040,["disabled","options","modelValue"]))]),_:3},8,["id","meta"]))}}),fe=t.defineComponent({name:"v-radio"}),me=t.defineComponent({...fe,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElRadioGroup.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(c){n.value=c}});function _(c){s.value.change&&s.value.change(c)}return(c,f)=>{const m=t.resolveComponent("el-radio-button"),p=t.resolveComponent("el-radio");return t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElRadioGroup),t.mergeProps(t.unref(l),{modelValue:t.unref(d),"onUpdate:modelValue":f[0]||(f[0]=g=>t.isRef(d)?d.value=g:null),disabled:t.unref(i),onChange:_}),t.createSlots({default:t.withCtx(()=>[t.unref(s).button?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(t.unref(s).options,(g,C)=>(t.openBlock(),t.createBlock(m,{key:C,label:g.label,size:t.unref(s).size,border:t.unref(s).border,disabled:o.meta.readOnly||g.disabled},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(g.text||g.label),1)]),_:2},1032,["label","size","border","disabled"]))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(t.unref(s).options,(g,C)=>(t.openBlock(),t.createBlock(p,{key:C,label:g.label,size:t.unref(s).size,border:t.unref(s).border,disabled:o.meta.readOnly||g.disabled},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(g.text||g.label),1)]),_:2},1032,["label","size","border","disabled"]))),128))]),_:2},[t.unref(s).slotNameOfDefault?{name:"default",fn:t.withCtx(()=>[t.renderSlot(c.$slots,t.unref(s).slotNameOfDefault)]),key:"0"}:void 0]),1040,["modelValue","disabled"])]),_:3},8,["id","meta"])}}}),pe=t.defineComponent({name:"v-select"}),ue=t.defineComponent({...pe,props:{id:null,meta:null},setup(o){const e=o,a=t.inject("state"),{appContext:r}=t.getCurrentInstance(),n=new R(r,a,e.id,e.meta),{bindings:l}=$(Object.keys(y.ElSelect.props),n.ui),i=t.toRef(e.meta,"readOnly"),s=t.computed(()=>n.ui.value||{}),d=t.computed({get(){return n.value},set(C){n.value=C}});function _(C){t.unref(s).change&&t.unref(s).change(C)}function c(){t.unref(s).blur&&t.unref(s).blur()}function f(C){t.unref(s).visibleChange&&t.unref(s).visibleChange(C)}function m(){t.unref(s).focus&&t.unref(s).focus()}function p(){t.unref(s).clear&&t.unref(s).clear()}function g(C){t.unref(s).select&&t.unref(s).removeTag(C)}return(C,b)=>{const x=t.resolveComponent("el-option");return t.openBlock(),t.createBlock(B,{id:o.id,meta:o.meta},{default:t.withCtx(()=>[t.createVNode(t.unref(y.ElSelect),t.mergeProps({modelValue:t.unref(d),"onUpdate:modelValue":b[0]||(b[0]=h=>t.isRef(d)?d.value=h:null)},t.unref(l),{disabled:t.unref(i),onBlur:c,onFocus:m,onClear:p,onRemoveTag:g,onVisibleChange:f,onChange:_}),t.createSlots({default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(s).options,(h,u)=>(t.openBlock(),t.createBlock(x,{key:u,label:h.label,value:h.value,disabled:h.disabled},null,8,["label","value","disabled"]))),128))]),_:2},[t.unref(s).slotNameOfSelectDefault?{name:"default",fn:t.withCtx(()=>[t.renderSlot(C.$slots,t.unref(s).slotNameOfSelectDefault)]),key:"0"}:void 0,t.unref(s).slotNameOfPrefix?{name:"prefix",fn:t.withCtx(()=>[t.renderSlot(C.$slots,t.unref(s).slotNameOfPrefix)]),key:"1"}:void 0,t.unref(s).slotNameOfEmpty?{name:"empty",fn:t.withCtx(()=>[t.renderSlot(C.$slots,t.unref(s).slotNameOfEmpty)]),key:"2"}:void 0]),1040,["modelValue","disabled"])]),_:3},8,["id","meta"])}}});function O(o,e,a){o.component(e,a)}function he(o){O(o,"v-object",bt),O(o,"v-string",xt),O(o,"v-boolean",wt),O(o,"v-array",Yt),O(o,"v-autocomplete",Et),O(o,"v-checkbox",$t),O(o,"v-date",jt),O(o,"v-number",Dt),O(o,"v-time",It),O(o,"v-text",te),O(o,"v-radio",me),O(o,"v-slider",oe),O(o,"v-rate",re),O(o,"v-tag",ie),O(o,"v-select",ue),O(o,"v-cascader",de)}const _e=[ft,B];function Q(o){_e.forEach(e=>{o.component(e.name,e)}),he(o)}const ge={installFormly:Q},Be="",Ce={install:function(o,e){if(o.config.globalProperties.emitter=v.default(),e.lib==="element")ge.installFormly(o);else throw new Error("Unsupport lib");return o.config.globalProperties.$VFORMLY_OPTIONS=e,o}};V.BaseMeta=I,V.FORM_VALUE_CHANGE=L,V.default=Ce,V.installFormly=Q,V.registerFormComponent=O,Object.defineProperties(V,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
