(function(S,j){typeof exports=="object"&&typeof module<"u"?j(exports,require("mitt"),require("vue"),require("ajv"),require("ant-design-vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["exports","mitt","vue","ajv","ant-design-vue","element-plus"],j):(S=typeof globalThis<"u"?globalThis:S||self,j(S["v-formly-v3"]={},S.mitt,S.Vue,S.Ajv,S.antDesignVue,S["element-plus"]))})(this,function(S,j,e,de,$,B){"use strict";var Dt=Object.defineProperty;var Ft=(S,j,e)=>j in S?Dt(S,j,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[j]=e;var O=(S,j,e)=>(Ft(S,typeof j!="symbol"?j+"":j,e),e);const X=n=>n&&typeof n=="object"&&"default"in n?n:{default:n},fe=X(j),me=X(de);function F(n){return n.config.globalProperties.emitter}var R=(n=>(n.Object="object",n.Array="array",n.Boolean="boolean",n.Integer="integer",n))(R||{});function U(n){const a=[],r="slotName";return n&&!n.type&&(n.type=R.Object),K(n,a,r),{slotsName:a}}function K(n,a,r){switch(n.type){case R.Object:Object.keys(n.properties).forEach(s=>{const o=n.properties[s];K(o,a,r)});break;case R.Array:Object.keys(n.items.properties).forEach(s=>{const o=n.items.properties[s];K(o,a,r)});break;default:if(n.ui){const s=Object.keys(n.ui).filter(o=>o.startsWith(r));s&&s.length>0&&s.forEach(o=>{a.push(n.ui[o])})}break}}function Z(){return{visibleIf:ue}}function ue(n,a,r,s){if(!a.ui||!a.ui.visibleIf)return r;const o=Object.keys(a.ui.visibleIf)[0],i=a.ui.visibleIf[o];return s=s||{},typeof i!="function"||o!==s.id?r:i.call(null,n,s.id,s.value)}const W="form-value-change",M="form-error-change",J=e.defineComponent({__name:"AFormlyItem",props:{id:null,show:{type:Boolean,default:!0},meta:null},setup(n){const a=n;let r=e.ref(!0);const{slotsName:s}=U(a.meta),o=e.inject("state"),i=e.computed(()=>`v-${a.meta.ui&&a.meta.ui.component||a.meta.type}`),t=e.computed(()=>o.layout);l();function l(){if(!a.meta.type)throw new Error("Form item type must be one of these: number, string, boolean, array, object");r.value=a.show,p(r.value,a.id);const{visibleIf:f}=Z(),{appContext:d}=e.getCurrentInstance();F(d).on(`${W}-${o._formId}`,c=>{let m=f(o.context,a.meta,r.value,{id:c.id,value:c.value});m!==r.value&&(r.value=m,p(r.value,a.id))})}function p(f,d){f?o._ignoreErrorIds=o._ignoreErrorIds.filter(u=>u!==d):o._ignoreErrorIds.indexOf(d)===-1&&o._ignoreErrorIds.push(d)}return(f,d)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle({display:e.unref(t)==="inline"?"inline-block":"block"})},[e.unref(r)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(i)),{key:0,id:n.id,meta:n.meta},e.createSlots({_:2},[e.renderList(e.unref(s),u=>({name:u,fn:e.withCtx(c=>[e.renderSlot(f.$slots,u,e.normalizeProps(e.guardReactiveProps({...c})))])}))]),1032,["id","meta"])):e.createCommentVNode("",!0)],4))}});class v{constructor(){O(this,"_map",new Map)}addContext(a,r){this._map.set(a,r)}removeContext(a){this._map.delete(a)}getContext(a){return this._map.get(a)}getContexts(){return this._map}getMap(){return this._map}}function ee(n=8,a=10){const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=a||r.length,o=[];if(n)for(let i=0;i<n;i++)o[i]=r[0|Math.random()*s];else{let i;o[8]=o[13]=o[18]=o[23]="-",o[14]="4";for(let t=0;t<36;t++)o[t]||(i=0|Math.random()*16,o[t]=r[t==19?i&3|8:i])}return o.join("")}function Y(n){if(n===void 0)return;if(n===null)return null;const a=Object.assign({},n);return Object.keys(a).forEach(r=>a[r]=typeof n[r]=="object"?Y(n[r]):n[r]),Array.isArray(n)?(a.length=n.length,Array.from(a)):a}const pe=Array.isArray,te=n=>typeof n=="function",Q=n=>typeof n=="number";function q(){const{appContext:n}=e.getCurrentInstance(),a=n.config.globalProperties;return{appContext:n,globalProperties:a}}class ne{constructor(){O(this,"_formId",ee(4));O(this,"_ignoreErrorIds",[]);O(this,"_context");O(this,"_layout",e.ref("horizontal"));O(this,"_ajvOptions",{allErrors:!0,strict:!1,loopEnum:50});O(this,"_formData",e.ref({}));O(this,"_meta",{});O(this,"_ui",{ingoreKeywords:["type","enum"],spanLabel:5,spanControl:19,grid:{gutter:36,span:24},errors:{required:"\u5FC5\u586B\u9879"}});O(this,"_validate");this._applyUseOptions()}get context(){return this._context}set context(a){this._context=a}get layout(){return this._layout}set layout(a){this._layout=a}get ajvOptions(){return this._ajvOptions}set ajvOptions(a){this._ajvOptions=a}get formData(){return this._formData.value}set formData(a){this._formData.value=a}get meta(){return this._meta}set meta(a){this._meta=a}get ui(){return this._ui}set ui(a){this._ui=Object.assign({},this._ui,a)}get validate(){return this._validate}set validate(a){this._validate=a}updateObjProp(a,r,s){const[o,...i]=r.split("/").filter(t=>t);i.length?this.updateObjProp(a[o],i.join("/"),s):a&&(a[o]=s)}_applyUseOptions(){const{globalProperties:a}=q(),r=a.$VFORMLY_OPTIONS;!r||typeof r!="object"||(this.ui=r.ui)}}class oe{constructor(a,r){O(this,"state");O(this,"_ajv");O(this,"_validate");O(this,"appContext");this.state=r,this._ajv=new me.default(r.ajvOptions),this._validate=null,this.appContext=a}async runValidateForm(){const{valid:a,errors:r}=this._isAjvValid(),o=this.state.context.getContexts().values();let i=!0;for(const t of o)i=await this._validation(t,a,r)&&i;return i}async runValidationFormItem(a){const{valid:r,errors:s}=this._isAjvValid();return await this._validation(a,r,s)}_ajvValidate(a){return this._validate?this._validate:(this._validate=this._ajv.compile(a),this._validate)}_getAjvError(a,r){let s;for(let o=0;o<r.length;o++){const i=r[o],t=this._getId(i);if(a===t){s=i;break}}return s}_isAjvValid(){const a=this._ajvValidate(this.state.meta);return{valid:a(this.state.formData||{}),errors:a.errors}}async _validation(a,r,s){let o=[];const i=`${M}-${this.state._formId}`,t=F(this.appContext);if(r)return t.emit(i,{id:a.id,error:void 0}),!0;{const l=this._getCustomError(a),p=await this._getCustomAsyncError(a),f=[...l,...p];this._replaceWithDefaultErrors(a,s),this._replaceWithCustomErrors(a.id,s,f);const d=this.state.ui.ingoreKeywords||[];o=s.filter(c=>d.indexOf(c.keyword)===-1),o=this._removeIgnoreErrors(o);const u=this._getAjvError(a.id,o);return t.emit(i,{id:a.id,error:u}),!u}}_getCustomError(a){var s,o;const r=(o=(s=a.ui)==null?void 0:s.value)==null?void 0:o.validator;return r?r(a.value):[]}async _getCustomAsyncError(a){var s,o;const r=(o=(s=a.ui)==null?void 0:s.value)==null?void 0:o.validatorAsync;return r?await r(a.value):[]}_replaceWithDefaultErrors(a,r){var t,l;if(!r||r.length===0)return;const s=((l=(t=a.ui)==null?void 0:t.value)==null?void 0:l.errors)||{},o=Object.assign({},this.state.ui.errors,s),i=Object.keys(o);i&&i.length>0&&r.forEach(p=>{i.indexOf(p.keyword)>-1&&(p.message=o[p.keyword])})}_replaceWithCustomErrors(a,r,s){s.forEach(o=>{const i=r.find(t=>t.keyword===o.keyword&&this._getId(t)===a);i&&(i.message=o.message)})}_removeIgnoreErrors(a){const r=this.state._ignoreErrorIds;return!r||r.length===0?a:a.filter(o=>r.indexOf(this._getId(o))===-1)}_getId(a){return a.params&&a.params.missingProperty?`${a.instancePath?a.instancePath:""}/${a.params.missingProperty}`:`${a.instancePath}`}}const he={class:"v__formly"},ge={name:"v-formly-v3"},Ce=e.defineComponent({...ge,props:{modelValue:null,layout:{default:"horizontal"},button:null,meta:null},emits:["update:modelValue","form-reset","form-submit"],setup(n,{expose:a,emit:r}){const s=n;if(!s.meta||typeof s.meta.properties>"u")throw new Error("Invalid Schema");let o={type:R.Object},i=e.ref(!1);const t=new ne;e.provide("state",t);const{slotsName:l}=U(s.meta),{appContext:p}=e.getCurrentInstance(),f=F(p);u();const d=e.computed(()=>{const x=Object.assign({},t.ui);return s.layout==="vertical"?null:{span:x.spanControl,offset:x.spanLabel}});e.watch(()=>s.modelValue,(x,y)=>{JSON.stringify(x)!==JSON.stringify(y)&&g(x)},{deep:!1}),e.watch(()=>t.formData,(x,y)=>{r("update:modelValue",x)},{deep:!0});function u(){t.layout=e.toRef(s,"layout"),o=Object.assign({},o,s.meta),t.meta=o,t.formData=Object.assign({},s.modelValue),c(t.formData,s.meta.properties),t.context=new v,t.validate=new oe(p,t)}function c(x,y){Object.keys(y).forEach(k=>{const b=y[k];if(b.type!=="null")switch(b.type){case R.Object:x[k]=x[k]||{},c(x[k],b.properties);break;case R.Array:x[k]=x[k]||[];break;case R.Boolean:break;default:x[k]=x[k]||void 0;break}})}function m(x){return t.context.getContext(x)}async function h(){return await t.validate.runValidateForm()}function g(x){const y=t.context.getContext("/");y&&(y.value=x,r("update:modelValue",t.formData))}function C(){r("form-reset",e.toRaw(t.formData)),g({})}async function w(){i.value=!0;const x=await h();i.value=!1,r("form-submit",{valid:x,data:x?e.toRaw(t.formData):void 0})}return e.onBeforeUnmount(()=>{f.all.clear()}),a({getContext:m,validate:h,reset:g,clearForm:C,submitForm:w}),(x,y)=>{const k=e.resolveComponent("a-button"),b=e.resolveComponent("a-space"),D=e.resolveComponent("a-form-item"),L=e.resolveComponent("a-form");return e.openBlock(),e.createElementBlock("div",he,[e.createVNode(L,{class:e.normalizeClass(["v",{v__inline:n.layout==="inline",v__horizontal:n.layout==="horizontal"}]),layout:n.layout},{default:e.withCtx(()=>[e.createVNode(J,{id:"/",meta:e.unref(o)},e.createSlots({_:2},[e.renderList(e.unref(l),z=>({name:z,fn:e.withCtx(H=>[e.renderSlot(x.$slots,z,e.normalizeProps(e.guardReactiveProps({...H})))])}))]),1032,["meta"]),n.button==="default"?(e.openBlock(),e.createBlock(D,{key:0,wrapperCol:e.unref(d),class:"v__default-submit-button"},{default:e.withCtx(()=>[e.createVNode(b,null,{default:e.withCtx(()=>[e.createVNode(k,{type:"danger",onClick:C},{default:e.withCtx(()=>[e.createTextVNode(" \u91CD\u7F6E ")]),_:1}),e.createVNode(k,{type:"primary",onClick:w,loading:e.unref(i)},{default:e.withCtx(()=>[e.createTextVNode(" \u63D0\u4EA4 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["wrapperCol"])):n.button==="custom"?e.renderSlot(x.$slots,"button",{key:1,loading:e.unref(i),clearForm:C,submitForm:w}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[],64))]),_:3},8,["layout","class"])])}}}),ye={class:"v__label-text"},xe={key:0,class:"v__optional"},ke=["innerHTML"],be={key:0,class:"ant-form-item-explain-error"},_e={name:"v-wrapper"},E=e.defineComponent({..._e,props:{id:null,show:{type:Boolean},meta:null},setup(n){const a=n,{globalProperties:r}=q(),s=e.inject("state"),o=s.context.getContext(a.id),i=e.computed(()=>Object.assign({},s.ui,a.meta.ui)),t=e.computed(()=>Object.assign({},s.ui,a.meta.ui).optionalHelp),l=e.computed(()=>s.layout.value==="vertical"||s.layout.value==="inline"?void 0:{span:i.value.spanLabel}),p=e.computed(()=>s.layout.value==="vertical"||s.layout.value==="inline"?void 0:{span:i.value.spanControl,offset:i.value.offsetControl||0}),f=e.computed({get(){return o.error.value},set(m){o.error.value=m}}),{appContext:d}=e.getCurrentInstance(),u=F(d);u.on(`${M}-${s._formId}`,c),e.onBeforeUnmount(()=>{u.off(`${M}-${s._formId}`,c)});function c(m){m.id===a.id&&(f.value=m.error?m.error.message:void 0)}return(m,h)=>{const g=e.resolveComponent("a-tooltip"),C=e.resolveComponent("a-form-item");return e.openBlock(),e.createBlock(C,{labelCol:e.unref(l),wrapperCol:e.unref(p),required:e.unref(i).showRequired,class:e.normalizeClass({"ant-form-item-has-error":e.unref(f)})},e.createSlots({label:e.withCtx(()=>[e.createElementVNode("span",ye,e.toDisplayString(n.meta.title),1),e.unref(i).optional||e.unref(t)?(e.openBlock(),e.createElementBlock("span",xe,[e.createTextVNode(e.toDisplayString(e.unref(i).optional)+" ",1),e.unref(t)?(e.openBlock(),e.createBlock(g,{key:0,title:e.unref(t).text,placement:e.unref(t).placement,trigger:e.unref(t).trigger,overlayStyle:e.unref(t).overlayStyle,mouseEnterDelay:e.unref(t).mouseEnterDelay,mouseLeaveDelay:e.unref(t).mouseLeaveDelay,overlayClassName:e.unref(t).overlayClassName},{default:e.withCtx(()=>[e.unref(t).icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).$antIcons[e.unref(t).icon]),{key:0})):e.createCommentVNode("",!0)]),_:1},8,["title","placement","trigger","overlayStyle","mouseEnterDelay","mouseLeaveDelay","overlayClassName"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),default:e.withCtx(()=>[e.renderSlot(m.$slots,"default"),e.unref(f)?(e.openBlock(),e.createElementBlock("div",be,e.toDisplayString(e.unref(f)),1)):e.createCommentVNode("",!0)]),_:2},[n.meta.description?{name:"extra",fn:e.withCtx(()=>[e.createElementVNode("div",{innerHTML:n.meta.description},null,8,ke)]),key:"0"}:void 0]),1032,["labelCol","wrapperCol","required","class"])}}});class A{constructor(a,r,s,o){O(this,"id");O(this,"state");O(this,"meta",e.ref({}));O(this,"type");O(this,"ui",e.ref({}));O(this,"error",e.ref(void 0));O(this,"_value",e.ref());O(this,"_initMetaValue");O(this,"appContext");if(this.constructor==A)throw new Error("Abstract classes can't be instantiated.");this.id=s,this.state=r,this.meta.value=o,this.type=o.ui&&o.ui.component||o.type,this.ui.value=Object.assign({},r.ui,o.ui),this.appContext=a,this.error.value=void 0,r.context.addContext(s,this),this._value.value=void 0,this._initMetaValue=this.getInitMetaValue()}get value(){return this._value.value}set value(a){if(this._value.value===a)return;this.setValue(a),F(this.appContext).emit(`${W}-${this.state._formId}`,{id:this.id,value:this._value.value}),this.state.updateObjProp(this.state.formData,this.id,this._value.value),this.state.validate.runValidationFormItem(this)}getInitMetaValue(){const a=this.id.split("/").filter(s=>s);let r="";return a.reduce((s,o,i)=>(i===a.length-1&&(r=s[o]),s[o]||{}),this.state.formData),r}}class ae extends A{constructor(r,s,o,i){super(r,s,o,i);O(this,"childMetaPairs");this.childMetaPairs=this.buildChildMetaPairs(o,i),s.context.addContext(o,this)}initValue(){}setValue(){}set value(r){this.childMetaPairs.forEach(({key:s,propertyName:o})=>{const i=this.state.context.getContext(s);i&&(i.value=(r||{})[o])})}buildChildMetaPairs(r,s){const o=[];for(const i of Object.keys(s.properties||{})){const t=r==="/"?`/${i}`:`${r}/${i}`;o.push({key:t,propertyName:i,meta:s.properties[i]})}return o}}const we=e.defineComponent({__name:"Object",props:{id:null,meta:null},setup(n){const a=n,{slotsName:r}=U(a.meta),s=e.inject("state"),{appContext:o}=e.getCurrentInstance(),i=new ae(o,s,a.id,a.meta),t=e.computed(()=>i.ui.value||{}),l=e.computed(()=>Object.assign({},s.ui.grid,t.value.grid).gutter),p=e.computed(()=>s.layout.value);function f(c){return c.ui&&c.ui.show}function d(c){if(p.value==="inline")return{};const m=c.meta.ui&&c.meta.ui.grid||{};return Object.assign({},s.ui.grid,t.value.grid,m)}const u=i.childMetaPairs;return(c,m)=>{const h=e.resolveComponent("a-col"),g=e.resolveComponent("a-row");return e.openBlock(),e.createBlock(g,{gutter:e.unref(l)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(u),(C,w)=>(e.openBlock(),e.createBlock(h,{key:w,span:d(C).span,offset:d(C).offset,xs:d(C).xs,sm:d(C).sm,md:d(C).md,lg:d(C).lg,xl:d(C).xl,xxl:d(C).xxl,style:e.normalizeStyle({display:e.unref(p)==="inline"?"inline-block":"block"})},{default:e.withCtx(()=>[e.createVNode(J,{id:C.key,meta:C.meta,show:f(C.meta)},e.createSlots({_:2},[e.renderList(e.unref(r),x=>({name:x,fn:e.withCtx(y=>[e.renderSlot(c.$slots,x,e.normalizeProps(e.guardReactiveProps({...y})))])}))]),1032,["id","meta","show"])]),_:2},1032,["span","offset","xs","sm","md","lg","xl","xxl","style"]))),128))]),_:3},8,["gutter"])}}});class N extends A{constructor(r,s,o,i){var t;super(r,s,o,i);O(this,"open");this.initValue(),this.meta.value&&(this.open=((t=this.meta.value.ui)==null?void 0:t.open)||!1)}initValue(){this._initMetaValue?this.value=this._initMetaValue:this.meta.value.default&&(this.value=this.meta.value.default)}setValue(r){this._value.value=r||void 0}}function _(n,a){const r=e.ref({});return Object.keys(a.value).forEach(o=>{n.indexOf(o)>-1&&(r.value[o]=e.toRef(a.value,o))}),{bindings:r}}const Oe=e.defineComponent({__name:"String",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Input.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(){t.value.change&&t.value.change(e.unref(l))}return(f,d)=>{const u=e.resolveComponent("a-input");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(u,e.mergeProps(e.unref(i),{defaultValue:n.meta.defaultValue,disabled:n.meta.readOnly,maxLength:n.meta.maxLength,value:e.unref(l),"onUpdate:value":d[0]||(d[0]=c=>e.isRef(l)?l.value=c:null),onChange:p}),e.createSlots({_:2},[e.unref(t).slotNameOfPrefix?{name:"prefix",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfPrefix)]),key:"0"}:void 0,e.unref(t).slotNameOfSuffix?{name:"suffix",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfSuffix)]),key:"1"}:void 0,e.unref(t).slotNameOfAddonBefore?{name:"addonBefore",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfAddonBefore)]),key:"2"}:void 0,e.unref(t).slotNameOfAddonAfter?{name:"addonAfter",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfAddonAfter)]),key:"3"}:void 0]),1040,["defaultValue","disabled","maxLength","value"])]),_:3},8,["id","meta"])}}});class re extends A{constructor(a,r,s,o){super(a,r,s,o),this.initValue()}initValue(){typeof this._initMetaValue<"u"?this.value=this._initMetaValue:typeof this.meta.value.default=="boolean"&&(this.value=this.meta.value.default)}setValue(a){this._value.value=a||!1}}const Be=e.defineComponent({__name:"Boolean",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new re(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Switch.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f||!1}});function p(){t.value.change&&t.value.change(e.unref(l))}return(f,d)=>{const u=e.resolveComponent("a-switch");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(u,e.mergeProps({class:"v__boolean",checked:e.unref(l),"onUpdate:checked":d[0]||(d[0]=c=>e.isRef(l)?l.value=c:null)},e.unref(i),{disabled:n.meta.readOnly,onChange:p}),e.createSlots({_:2},[e.unref(t).slotNameOfCheckedChildren?{name:"checkedChildren",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfCheckedChildren)]),key:"0"}:void 0,e.unref(t).slotNameOfUnCheckedChildren?{name:"unCheckedChildren",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfUnCheckedChildren)]),key:"1"}:void 0]),1040,["checked","disabled"])]),_:3},8,["id","meta"])}}}),Ne=e.defineComponent({__name:"AutoComplete",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.AutoComplete.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(u){o.value=u||void 0}});function p(u){t.value.change&&t.value.change(e.unref(u))}function f(u){t.value.search&&t.value.search(u,e.unref(l))}function d(u,c){t.value.select&&t.value.select(e.unref(u),c)}return(u,c)=>{const m=e.resolveComponent("a-auto-complete");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(m,e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,value:e.unref(l),"onUpdate:value":c[0]||(c[0]=h=>e.isRef(l)?l.value=h:null),onChange:p,onSearch:f,onSelect:d}),e.createSlots({_:2},[e.unref(t).slotNameOfOption?{name:"option",fn:e.withCtx(h=>[e.renderSlot(u.$slots,e.unref(t).slotNameOfOption,e.normalizeProps(e.guardReactiveProps(h)))]),key:"0"}:void 0,e.unref(t).slotNameOfDefault?{name:"default",fn:e.withCtx(()=>[e.renderSlot(u.$slots,e.unref(t).slotNameOfDefault)]),key:"1"}:void 0]),1040,["disabled","value"])]),_:3},8,["id","meta"])}}}),Ve=e.defineComponent({__name:"Checkbox",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.CheckboxGroup.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(){t.value.change&&t.value.change(e.unref(l))}return(f,d)=>{const u=e.resolveComponent("a-checkbox-group"),c=e.resolveComponent("a-checkbox"),m=e.resolveComponent("a-col"),h=e.resolveComponent("a-row");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.unref(t).span?(e.openBlock(),e.createBlock(u,{key:1,value:e.unref(l),"onUpdate:value":d[1]||(d[1]=g=>e.isRef(l)?l.value=g:null),disabled:n.meta.readOnly,onChange:p,class:"v__checkbox"},{default:e.withCtx(()=>[e.createVNode(h,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.meta.enum,(g,C)=>(e.openBlock(),e.createBlock(m,{class:"v__text-left",span:e.unref(t).span,key:C},{default:e.withCtx(()=>[e.createVNode(c,{value:g.value||g,disabled:g.disabled||!1},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.label||g),1)]),_:2},1032,["value","disabled"])]),_:2},1032,["span"]))),128))]),_:1})]),_:1},8,["value","disabled"])):(e.openBlock(),e.createBlock(u,e.mergeProps({key:0,class:"v__checkbox",value:e.unref(l),"onUpdate:value":d[0]||(d[0]=g=>e.isRef(l)?l.value=g:null)},e.unref(i),{disabled:n.meta.readOnly,options:n.meta.enum,onChange:p}),null,16,["value","disabled","options"]))]),_:1},8,["id","meta"])}}}),Se=e.defineComponent({__name:"Date",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta);let i={},t={};if(o.ui.value.type==="range"){const{bindings:c}=_(Object.keys($.RangePicker.props),o.ui);i=c}else{const{bindings:c}=_(Object.keys($.DatePicker.props),o.ui);t=c}const l=e.computed(()=>o.ui.value||{}),p=e.computed({get(){return o.value},set(c){o.value=c}});function f(){l.value.change&&l.value.change(e.unref(p))}function d(c){l.value.ok&&l.value.ok(c)}function u(c,m,h){l.value.calendarChange&&l.value.calendarChange(c,m,h)}return(c,m)=>{const h=e.resolveComponent("a-range-picker"),g=e.resolveComponent("a-date-picker");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.unref(l).type==="range"?(e.openBlock(),e.createBlock(h,e.mergeProps({key:0,class:"v__date",value:e.unref(p),"onUpdate:value":m[0]||(m[0]=C=>e.isRef(p)?p.value=C:null)},e.unref(i),{disabled:n.meta.readOnly,onCalendarChange:u,onOk:d,onChange:f}),e.createSlots({_:2},[e.unref(l).slotNameOfSuffixIcon?{name:"suffixIcon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfSuffixIcon)]),key:"0"}:void 0]),1040,["value","disabled"])):e.createCommentVNode("",!0),e.unref(l).type!=="range"?(e.openBlock(),e.createBlock(g,e.mergeProps({key:1,class:"v__date",value:e.unref(p),"onUpdate:value":m[1]||(m[1]=C=>e.isRef(p)?p.value=C:null)},e.unref(t),{disabled:n.meta.readOnly,onOk:d,onChange:f}),e.createSlots({_:2},[e.unref(l).slotNameOfSuffixIcon?{name:"suffixIcon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfSuffixIcon)]),key:"0"}:void 0]),1040,["value","disabled"])):e.createCommentVNode("",!0)]),_:3},8,["id","meta"])}}}),$e=e.defineComponent({__name:"Time",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta);let i={},t={};if(o.ui.value.type==="range"){const{bindings:c}=_(Object.keys($.TimeRangePicker.props),o.ui);i=c}else{const{bindings:c}=_(Object.keys($.TimePicker.props),o.ui);t=c}const l=e.computed(()=>o.ui.value||{}),p=e.computed({get(){return o.value},set(c){o.value=c}});function f(c,m){l.value.change&&l.value.change(c,m)}function d(c){l.value.ok&&l.value.ok(c)}function u(c,m,h){l.value.calendarChange&&l.value.calendarChange(c,m,h)}return(c,m)=>{const h=e.resolveComponent("a-time-range-picker"),g=e.resolveComponent("a-time-picker");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.unref(l).type==="range"?(e.openBlock(),e.createBlock(h,e.mergeProps({key:0,class:"v__time",value:e.unref(p),"onUpdate:value":m[0]||(m[0]=C=>e.isRef(p)?p.value=C:null),open:e.unref(l).open,"onUpdate:open":m[1]||(m[1]=C=>e.unref(l).open=C)},e.unref(i),{disabled:n.meta.readOnly,onCalendarChange:u,onOk:d,onChange:f}),e.createSlots({_:2},[e.unref(l).slotNameOfRenderExtraFooter?{name:"renderExtraFooter",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfRenderExtraFooter)]),key:"0"}:void 0,e.unref(l).slotNameOfSuffixIcon?{name:"suffixIcon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfSuffixIcon)]),key:"1"}:void 0,e.unref(l).slotNameOfClearIcon?{name:"clearIcon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfClearIcon)]),key:"2"}:void 0]),1040,["value","open","disabled"])):(e.openBlock(),e.createBlock(g,e.mergeProps({key:1,class:"v__time",value:e.unref(p),"onUpdate:value":m[2]||(m[2]=C=>e.isRef(p)?p.value=C:null),open:e.unref(l).open,"onUpdate:open":m[3]||(m[3]=C=>e.unref(l).open=C)},e.unref(t),{disabled:n.meta.readOnly,onOk:d,onChange:f}),e.createSlots({_:2},[e.unref(l).slotNameOfRenderExtraFooter?{name:"renderExtraFooter",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfRenderExtraFooter)]),key:"0"}:void 0,e.unref(l).slotNameOfSuffixIcon?{name:"suffixIcon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfSuffixIcon)]),key:"1"}:void 0,e.unref(l).slotNameOfClearIcon?{name:"clearIcon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,e.unref(l).slotNameOfClearIcon)]),key:"2"}:void 0]),1040,["value","open","disabled"]))]),_:3},8,["id","meta"])}}}),le=e.defineComponent({__name:"Number",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.InputNumber.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(g){o.value=g}});let p=e.ref(-1/0),f=e.ref(1/0),d=e.ref(1),u=e.ref(g=>g),c=e.ref(g=>g);m();function m(){const{minimum:g,exclusiveMinimum:C,maximum:w,exclusiveMaximum:x,multipleOf:y,type:k}=o.meta.value;d.value=y||1,typeof g<"u"&&(p.value=C?g+d.value:g),typeof w<"u"&&(f.value=x?w-d.value:w),k==="integer"&&(p.value=Math.trunc(p.value),f.value=Math.trunc(f.value),d.value=Math.trunc(d.value)),t.value.prefix!=null&&(t.value.formatter=b=>b==null?"":`${t.value.prefix} ${b}`,t.value.parser=b=>b.replace(`${t.value.prefix} `,"")),t.value.unit!=null&&(t.value.formatter=b=>b==null?"":`${b} ${t.value.unit}`,t.value.parser=b=>b.replace(` ${t.value.unit}`,"")),t.value.formatter&&(u.value=t.value.formatter),t.value.parser&&(c.value=t.value.parser)}function h(g){l.value=o.meta.value.type===R.Integer?Math.floor(g):g,t.value.change&&t.value.change(e.unref(l))}return(g,C)=>{const w=e.resolveComponent("a-input-number");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(w,e.mergeProps({class:"v__number",id:n.id,value:e.unref(l),"onUpdate:value":C[0]||(C[0]=x=>e.isRef(l)?l.value=x:null)},e.unref(i),{disabled:n.meta.readOnly,min:e.unref(p),max:e.unref(f),step:e.unref(d),formatter:e.unref(u),parser:e.unref(c),class:{"v__input-number-hidden-step":e.unref(t).hideStep},onChange:C[1]||(C[1]=x=>h(x))}),e.createSlots({_:2},[e.unref(t).slotNameOfAddonAfter?{name:"addonAfter",fn:e.withCtx(()=>[e.renderSlot(g.$slots,e.unref(t).slotNameOfAddonAfter)]),key:"0"}:void 0,e.unref(t).slotNameOfAddonBefore?{name:"addonBefore",fn:e.withCtx(()=>[e.renderSlot(g.$slots,e.unref(t).slotNameOfAddonBefore)]),key:"1"}:void 0,e.unref(t).slotNameOfPrefix?{name:"prefix",fn:e.withCtx(()=>[e.renderSlot(g.$slots,e.unref(t).slotNameOfPrefix)]),key:"2"}:void 0]),1040,["id","value","disabled","min","max","step","formatter","parser","class"])]),_:3},8,["id","meta"])}}});class Ee extends A{constructor(r,s,o,i){super(r,s,o,i);O(this,"ids",e.ref([]));this.initValue()}setValue(){}initValue(){var r,s;if(((r=this._initMetaValue)==null?void 0:r.length)>0)this.value=this._initMetaValue;else if(((s=e.unref(this.meta).default)==null?void 0:s.length)>0){const o=e.unref(this.meta).default;o.forEach(()=>this.add(!1)),setTimeout(()=>{o.forEach((i,t)=>{const l=this.state.context.getContext(`${this.id}/${t}`);l.value=i})}),this.validate()}}get value(){return this.getPathValue(this.state.formData,this.id)||[]}set value(r){if(this.value.length===0&&(r==null?void 0:r.length)===0||!Array.isArray(r)&&r!=null)return;const s=Y(r),o=e.unref(this.ids).length;for(let i=0;i<o;i++)this.remove(o-i-1,!1);s&&s.length&&(s.forEach(()=>this.add(!1)),e.nextTick(()=>{s.forEach((i,t)=>{const l=this.state.context.getContext(`${this.id}/${t}`);l.value=i})})),this.validate()}validate(){return this.state.validate.runValidationFormItem(this)}getPathValue(r,s){const o=s.split("/").filter(t=>t);let i=Y(r);for(let t=0;t<o.length;t++){const l=o[t];i=i[l]}return i}getEmptyData(){const r={},s=e.unref(this.meta).items.properties;return Object.keys(s).forEach(o=>{switch(s[o].type){case"object":r[o]={};break;case"array":r[o]=[];break;default:r[o]=void 0;break}}),r}add(r=!0){const s=`${this.id}/${e.unref(this.ids).length}`,o=this.getEmptyData();return this.state.updateObjProp(this.state.formData,s,o),this.ids.value.push({key:ee()}),r&&this.validate(),s}remove(r,s=!0){this.ids.value.splice(r,1);const o=this.id.split("/").filter(l=>!!l);o.reduce((l,p,f)=>(f===o.length-1&&l[p].splice(r,1),l[p]),this.state.formData);const i=[];for(const l of this.state.context.getMap().keys())new RegExp(`^/?${this.id}/`).test(l)&&i.push(l);for(let l=r+1;l<e.unref(this.ids).length+1;l++){const p=new RegExp(`^(/?${this.id}/)${l}`);i.filter(f=>p.test(f)).forEach(f=>{const d=this.state.context.getContext(f),u=f.replace(p,(c,m)=>`${m}${l-1}`);if(d.id=u,d.childMetaPairs){const c=d.buildChildMetaPairs(u,e.unref(d.meta));d.childMetaPairs.forEach((m,h)=>{m.key=c[h].key})}this.state.context.addContext(u,d)})}const t=new RegExp(`^/?${this.id}/${e.unref(this.ids).length}`);i.filter(l=>t.test(l)).forEach(l=>{this.state.context.removeContext(l)}),s&&this.validate()}}const Ie={class:"v__optional"},je={class:"v__array-add"},Re={class:"ant-form-item-control"},Pe=["onClick"],De={key:0,class:"ant-form-item-extra"},Fe={key:1,class:"ant-form-item-explain-error"},Me=e.defineComponent({__name:"Array",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{globalProperties:s}=q(),{appContext:o}=e.getCurrentInstance(),i=new Ee(o,r,a.id,a.meta),t=F(o),l=e.computed(()=>e.unref(i.ui)||{}),p=e.computed(()=>Object.assign({},r.ui,a.meta.ui).optionalHelp);e.computed({get(){return i.value},set(y){i.value=y||[]}});const f=e.computed({get(){return e.unref(i.error)},set(y){i.error.value=y}}),d=e.computed(()=>a.meta.readOnly),u=e.computed(()=>e.unref(d)||a.meta.maxItems!=null&&e.unref(i.ids).length>=a.meta.maxItems),c=e.computed(()=>{const y=a.meta.minItems;return!(e.unref(d)||y!=null&&e.unref(i.ids).length<=y)}),m=e.ref(8),h=e.ref("");e.onMounted(()=>{var D;t.on(`${M}-${r._formId}`,g);const{grid:y,removable:k,removeTitle:b}=e.unref(l);m.value=(D=y==null?void 0:y.arraySpan)!=null?D:8,h.value=k===!1?null:b}),e.onBeforeUnmount(()=>{t.off(`${M}-${r._formId}`,g)});function g(y){y.id===a.id&&(f.value=y.error?y.error.message:void 0)}function C(y){return`${a.id}/${y}`}function w(){var k,b;const y=i.add();(b=(k=e.unref(l)).add)==null||b.call(k,y)}function x(y){var k,b;i.remove(y),(b=(k=e.unref(l)).remove)==null||b.call(k,y)}return(y,k)=>{const b=e.resolveComponent("a-tooltip"),D=e.resolveComponent("a-button"),L=e.resolveComponent("a-col"),z=e.resolveComponent("delete-outlined"),H=e.resolveComponent("a-card"),ie=e.resolveComponent("a-row"),Rt=e.resolveComponent("a-form-item");return e.openBlock(),e.createBlock(Rt,null,{default:e.withCtx(()=>[e.createVNode(ie,null,{default:e.withCtx(()=>[n.meta.title?(e.openBlock(),e.createBlock(L,{key:0,class:"ant-form-item-label",span:e.unref(l).spanLabel},{default:e.withCtx(()=>[e.createElementVNode("label",{class:e.normalizeClass({"ant-form-item-required":e.unref(l).showRequired})},[e.createTextVNode(e.toDisplayString(n.meta.title)+" ",1),e.createElementVNode("span",Ie,[e.createTextVNode(e.toDisplayString(e.unref(l).optional)+" ",1),e.unref(p)?(e.openBlock(),e.createBlock(b,{key:0,title:e.unref(p).text,placement:e.unref(p).placement,trigger:e.unref(p).trigger,overlayStyle:e.unref(p).overlayStyle,overlayClassName:e.unref(p).overlayClassName,mouseEnterDelay:e.unref(p).mouseEnterDelay,mouseLeaveDelay:e.unref(p).mouseLeaveDelay},{default:e.withCtx(()=>[e.unref(p).icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(s).$antIcons[e.unref(p).icon]),{key:0})):e.createCommentVNode("",!0)]),_:1},8,["title","placement","trigger","overlayStyle","overlayClassName","mouseEnterDelay","mouseLeaveDelay"])):e.createCommentVNode("",!0)])],2),e.createElementVNode("div",je,[e.createVNode(D,{type:e.unref(l).addType||"dashed",disabled:e.unref(u),onClick:w},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(l).addTitle||"\u6DFB\u52A0"),1)]),_:1},8,["type","disabled"])])]),_:1},8,["span"])):e.createCommentVNode("",!0),e.createVNode(L,{class:"ant-form-item-control-wrapper",span:e.unref(l).spanControl,offset:e.unref(l).offsetControl},{default:e.withCtx(()=>[e.createElementVNode("div",Re,[e.createVNode(ie,{class:"v__array-container"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i).ids.value,(Pt,ce)=>(e.openBlock(),e.createBlock(L,{key:Pt.key,span:m.value,class:"v__array-item"},{default:e.withCtx(()=>[e.createVNode(H,null,{default:e.withCtx(()=>[e.createVNode(J,{id:C(ce),meta:n.meta.items},null,8,["id","meta"]),e.unref(c)?(e.openBlock(),e.createElementBlock("span",{key:0,class:"v__array-remove",onClick:Ut=>x(ce)},[e.createVNode(z)],8,Pe)):e.createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["span"]))),128))]),_:1}),n.meta.description?(e.openBlock(),e.createElementBlock("div",De,e.toDisplayString(n.meta.description),1)):e.createCommentVNode("",!0),e.unref(f)?(e.openBlock(),e.createElementBlock("div",Fe,e.toDisplayString(e.unref(f)),1)):e.createCommentVNode("",!0)])]),_:1},8,["span","offset"])]),_:1})]),_:1})}}}),Ae={class:"v__label-text"},Te=["innerHTML"],Le=["textContent"],ze=["innerHTML"],Ue=e.defineComponent({__name:"Text",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),i=e.computed(()=>o.ui.value||{}),t=e.computed(()=>r.layout.value==="vertical"||r.layout.value==="inline"?void 0:{span:i.value.spanLabel}),l=e.computed(()=>r.layout.value==="vertical"||r.layout.value==="inline"?void 0:{span:i.value.spanControl,offset:i.value.offsetControl||0}),p=e.computed(()=>te(e.unref(i).text)?e.unref(i).text():e.unref(i).text);return(f,d)=>{const u=e.resolveComponent("a-form-item");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(u,{labelCol:e.unref(t),wrapperCol:e.unref(l),class:e.normalizeClass({"no-label":!n.meta.title})},e.createSlots({default:e.withCtx(()=>[e.unref(i).slotNameOfDefault?e.renderSlot(f.$slots,e.unref(i).slotNameOfDefault,{key:0},void 0,!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(i).html?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:e.unref(i).html,class:"v__content-text"},null,8,Te)):(e.openBlock(),e.createElementBlock("span",{key:1,textContent:e.toDisplayString(e.unref(p)),class:"v__content-text"},null,8,Le))],64))]),_:2},[n.meta.title?{name:"label",fn:e.withCtx(()=>[e.createElementVNode("span",Ae,e.toDisplayString(n.meta.title),1)]),key:"0"}:void 0,n.meta.description?{name:"extra",fn:e.withCtx(()=>[e.createElementVNode("div",{innerHTML:n.meta.description},null,8,ze)]),key:"1"}:void 0]),1032,["labelCol","wrapperCol","class"])])}}}),Mt="",G=(n,a)=>{const r=n.__vccOpts||n;for(const[s,o]of a)r[s]=o;return r},He=G(Ue,[["__scopeId","data-v-c98847ae"]]),qe=e.defineComponent({__name:"Textarea",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Textarea.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(m){o.value=m}}),p=e.ref(!0);e.onMounted(()=>{e.unref(t).autoSize!=null&&(p.value=e.unref(t).autoSize)});function f(){var m,h;(h=(m=e.unref(t)).change)==null||h.call(m,e.unref(l))}function d(m){var h,g;(g=(h=e.unref(t)).focus)==null||g.call(h,m)}function u(m){var h,g;(g=(h=e.unref(t)).blur)==null||g.call(h,m)}function c(m){var h,g;(g=(h=e.unref(t)).pressEnter)==null||g.call(h,m)}return(m,h)=>{const g=e.resolveComponent("a-textarea");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(g,e.mergeProps(e.unref(i),{autoSize:p.value,defaultValue:n.meta.defaultValue,disabled:n.meta.readOnly,maxlength:n.meta.maxLength,value:e.unref(l),"onUpdate:value":h[0]||(h[0]=C=>e.isRef(l)?l.value=C:null),onChange:f,onFocus:d,onBlur:u,onPressEnter:c}),null,16,["autoSize","defaultValue","disabled","maxlength","value"])]),_:1},8,["id","meta"])}}});class T extends A{constructor(a,r,s,o){super(a,r,s,o),this.initValue()}initValue(){this._initMetaValue?this.value=this._initMetaValue:e.unref(this.meta).default&&(this.value=e.unref(this.meta).default)}setValue(a){switch(this.type){case"slider":this._value.value=pe(a)||Q(a)?a:void 0;break;default:this._value.value=a||void 0;break}}}const Ge=e.defineComponent({__name:"Slider",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Slider.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(c){t.value.range?o.value=c||[]:o.value=Q(c)?c:void 0}}),p=e.computed(()=>t.value.tipFormatter===null);function f(c){const{tipFormatter:m}=t.value;return m?m(c):`${c}`}function d(c){var m,h;(h=(m=e.unref(t)).change)==null||h.call(m,c)}function u(c){var m,h;(h=(m=e.unref(t)).afterChange)==null||h.call(m,c)}return(c,m)=>{const h=e.resolveComponent("a-slider");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(h,e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,min:n.meta.minimum||0,max:n.meta.maximum||100,step:n.meta.multipleOf||1,tipFormatter:e.unref(p)?null:f,value:e.unref(l),"onUpdate:value":m[0]||(m[0]=g=>e.isRef(l)?l.value=g:null),onChange:d,onAfterChange:u}),e.createSlots({_:2},[e.unref(t).slotNameOfMark?{name:"mark",fn:e.withCtx(g=>[e.renderSlot(c.$slots,e.unref(t).slotNameOfMark,e.normalizeProps(e.guardReactiveProps(g)))]),key:"0"}:void 0]),1040,["disabled","min","max","step","tipFormatter","value"])]),_:3},8,["id","meta"])}}}),Ke=e.defineComponent({__name:"Rate",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Rate.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(d){o.value=d}});function p(d){var u,c;(c=(u=e.unref(t)).change)==null||c.call(u,d)}function f(d){var u,c;(c=(u=e.unref(t)).hoverChange)==null||c.call(u,d)}return(d,u)=>{const c=e.resolveComponent("a-rate");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(c,e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,count:n.meta.maximum||5,value:e.unref(l),"onUpdate:value":u[0]||(u[0]=m=>e.isRef(l)?l.value=m:null),onChange:p,onHoverChange:f}),e.createSlots({_:2},[e.unref(t).slotNameOfCharacter?{name:"character",fn:e.withCtx(()=>[e.renderSlot(d.$slots,e.unref(t).slotNameOfCharacter)]),key:"0"}:void 0]),1040,["disabled","count","value"])]),_:3},8,["id","meta"])}}}),We=e.defineComponent({__name:"Tag",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),i=e.ref([]),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(u){t.value.range?o.value=u||[]:o.value=u}});e.watch(()=>e.unref(o.meta).enum,d,{immediate:!0});function p(u,c){var m,h,g,C;u.disabled||(u.checked=c,f(),(h=(m=e.unref(t)).checkedChange)==null||h.call(m,c),(C=(g=e.unref(t)).change)==null||C.call(g,e.toRaw(e.unref(l))))}function f(){const u=e.unref(i).filter(c=>c.checked).map(c=>c.value);l.value=u.length?u:void 0}function d(u){let c=e.unref(u);c==null||!Array.isArray(c)||c.length===0||(typeof c[0]!="object"&&(c=c.map(m=>({label:m,value:m}))),c.forEach(m=>{m.checked=(l.value||[]).indexOf(m.value)>-1}),c.forEach(m=>m.disabled=a.meta.readOnly),i.value=c)}return(u,c)=>{const m=e.resolveComponent("a-checkable-tag");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,h=>(e.openBlock(),e.createBlock(m,{key:h.value,class:e.normalizeClass({disabled:h.disabled}),checked:h.checked,onChange:g=>p(h,g)},{default:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(h.label),1)]),_:2},1032,["class","checked","onChange"]))),128))]),_:1},8,["id","meta"])}}}),At="",Je=G(We,[["__scopeId","data-v-56211880"]]),Ye=e.defineComponent({__name:"Cascader",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Cascader.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(m){o.value=m}});function p(m,h){var g,C;(C=(g=e.unref(t)).change)==null||C.call(g,m,h)}function f(m){var h,g;(g=(h=e.unref(t)).dropdownVisibleChange)==null||g.call(h,m)}function d(m){var h,g;(g=(h=e.unref(t)).search)==null||g.call(h,m)}function u(m){var h,g;(g=(h=e.unref(t)).blur)==null||g.call(h,m)}function c(m){var h,g;(g=(h=e.unref(t)).focus)==null||g.call(h,m)}return(m,h)=>{const g=e.resolveComponent("a-cascader");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(g,e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,options:n.meta.enum,value:e.unref(l),"onUpdate:value":h[0]||(h[0]=C=>e.isRef(l)?l.value=C:null),onChange:p,onDropdownVisibleChange:f,onSearch:d,onBlur:u,onFocus:c}),e.createSlots({_:2},[e.unref(t).slotNameOfDefault?{name:"default",fn:e.withCtx(()=>[e.createElementVNode("span",null,[e.renderSlot(m.$slots,e.unref(t).slotNameOfDefault)])]),key:"0"}:void 0,e.unref(t).slotNameOfSuffixIcon?{name:"suffixIcon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,e.unref(t).slotNameOfSuffixIcon)]),key:"1"}:void 0,e.unref(t).slotNameOfDisplayRender?{name:"displayRender",fn:e.withCtx(C=>[e.renderSlot(m.$slots,e.unref(t).slotNameOfDisplayRender,e.normalizeProps(e.guardReactiveProps(C)))]),key:"2"}:void 0]),1040,["disabled","options","value"])]),_:3},8,["id","meta"])}}}),Qe=e.defineComponent({__name:"Radio",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.RadioGroup.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(){t.value.change&&t.value.change(e.unref(l))}return(f,d)=>{const u=e.resolveComponent("a-radio-group");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(u,e.mergeProps({class:{"v__radio-vertical":e.unref(t).direction==="vertical"}},e.unref(i),{value:e.unref(l),"onUpdate:value":d[0]||(d[0]=c=>e.isRef(l)?l.value=c:null),disabled:n.meta.readOnly,onChange:p}),null,16,["class","value","disabled"])]),_:1},8,["id","meta"])}}}),Xe=e.defineComponent({__name:"Select",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys($.Select.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(y){o.value=y}});function p(y,k){e.unref(t).change&&e.unref(t).change(y,k)}function f(){e.unref(t).blur&&e.unref(t).blur()}function d(y,k){e.unref(t).deselect&&e.unref(t).deselect(y,k)}function u(y){e.unref(t).dropdownVisibleChange&&e.unref(t).dropdownVisibleChange(y)}function c(){e.unref(t).focus&&e.unref(t).focus()}function m(){e.unref(t).inputKeyDown&&e.unref(t).inputKeyDown()}function h(){e.unref(t).mouseenter&&e.unref(t).mouseenter()}function g(){e.unref(t).mouseleave&&e.unref(t).mouseleave()}function C(){e.unref(t).popupScroll&&e.unref(t).popupScroll()}function w(y){e.unref(t).search&&e.unref(t).search(y)}function x(y,k){e.unref(t).select&&e.unref(t).select(y,k)}return(y,k)=>{const b=e.resolveComponent("a-select");return e.openBlock(),e.createBlock(E,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(b,e.mergeProps({value:e.unref(l),"onUpdate:value":k[0]||(k[0]=D=>e.isRef(l)?l.value=D:null)},e.unref(i),{disabled:n.meta.readOnly,onBlur:f,onDeselect:d,onFocus:c,onInputKeydown:m,onMouseenter:h,onMouseleave:g,onPopupScroll:C,onSearch:w,onSelect:x,onDropdownVisibleChange:u,onChange:p}),e.createSlots({default:e.withCtx(()=>[e.unref(t).slotNameOfSelectDefault?e.renderSlot(y.$slots,e.unref(t).slotNameOfSelectDefault,{key:0}):e.createCommentVNode("",!0)]),_:2},[e.unref(t).slotNameOfClearIcon?{name:"clearIcon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfClearIcon)]),key:"0"}:void 0,e.unref(t).slotNameOfDropdownRender?{name:"dropdownRender",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfDropdownRender)]),key:"1"}:void 0,e.unref(t).slotNameOfMaxTagPlaceholder?{name:"maxTagPlaceholder",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfMaxTagPlaceholder)]),key:"2"}:void 0,e.unref(t).slotNameOfMenuItemSelectedIcon?{name:"menuItemSelectedIcon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfMenuItemSelectedIcon)]),key:"3"}:void 0,e.unref(t).slotNameOfNotFoundContent?{name:"notFoundContent",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfNotFoundContent)]),key:"4"}:void 0,e.unref(t).slotNameOfOption?{name:"option",fn:e.withCtx(D=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfOption,e.normalizeProps(e.guardReactiveProps(D)))]),key:"5"}:void 0,e.unref(t).slotNameOfPlaceholder?{name:"placeholder",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfPlaceholder)]),key:"6"}:void 0,e.unref(t).slotNameOfRemoveIcon?{name:"removeIcon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfRemoveIcon)]),key:"7"}:void 0,e.unref(t).slotNameOfSuffixIcon?{name:"suffixIcon",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfSuffixIcon)]),key:"8"}:void 0,e.unref(t).slotNameOfTagRender?{name:"tagRender",fn:e.withCtx(()=>[e.renderSlot(y.$slots,e.unref(t).slotNameOfTagRender)]),key:"9"}:void 0]),1040,["value","disabled"])]),_:3},8,["id","meta"])}}});function V(n,a,r){n.component(a,r)}function Ze(n){V(n,"v-object",we),V(n,"v-string",Oe),V(n,"v-boolean",Be),V(n,"v-array",Me),V(n,"v-autocomplete",Ne),V(n,"v-checkbox",Ve),V(n,"v-date",Se),V(n,"v-number",le),V(n,"v-integer",le),V(n,"v-time",$e),V(n,"v-text",He),V(n,"v-radio",Qe),V(n,"v-textarea",qe),V(n,"v-slider",Ge),V(n,"v-rate",Ke),V(n,"v-tag",Je),V(n,"v-select",Xe),V(n,"v-cascader",Ye)}const ve=[Ce,E];function et(n){ve.forEach(a=>{n.component(a.name,a)}),Ze(n)}const tt={installFormly:et},se=e.defineComponent({__name:"ElFormlyItem",props:{id:null,show:{type:Boolean,default:!0},meta:null},setup(n){const a=n;let r=e.ref(!0);const{slotsName:s}=U(a.meta),o=e.inject("state"),i=e.computed(()=>`v-${a.meta.ui&&a.meta.ui.component||a.meta.type}`),t=e.computed(()=>o.layout);l();function l(){if(!a.meta.type)throw new Error("Form item type must be one of these: number, string, boolean, array, object");r.value=a.show,p(r.value,a.id);const{visibleIf:f}=Z(),{appContext:d}=e.getCurrentInstance();F(d).on(`${W}-${o._formId}`,c=>{let m=f(o.context,a.meta,r.value,{id:c.id,value:c.value});m!==r.value&&(r.value=m,p(r.value,a.id))})}function p(f,d){f?o._ignoreErrorIds=o._ignoreErrorIds.filter(u=>u!==d):o._ignoreErrorIds.indexOf(d)===-1&&o._ignoreErrorIds.push(d)}return(f,d)=>(e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle({display:e.unref(t)==="inline"?"inline-block":"block"})},[e.unref(r)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(i)),{key:0,id:n.id,meta:n.meta},e.createSlots({_:2},[e.renderList(e.unref(s),u=>({name:u,fn:e.withCtx(c=>[e.renderSlot(f.$slots,u,e.normalizeProps(e.guardReactiveProps({...c})))])}))]),1032,["id","meta"])):e.createCommentVNode("",!0)],4))}}),nt={class:"v__formly"},ot={name:"v-formly-v3"},at=e.defineComponent({...ot,props:{modelValue:null,layout:{default:"horizontal"},button:null,meta:null},emits:["update:modelValue","form-reset","form-submit"],setup(n,{expose:a,emit:r}){const s=n;if(!s.meta||typeof s.meta.properties>"u")throw new Error("Invalid Schema");let o={type:R.Object},i=e.ref(!1);const t=new ne;e.provide("state",t);const{slotsName:l}=U(s.meta),{appContext:p}=e.getCurrentInstance(),f=F(p);u();const d=e.computed(()=>s.layout==="inline");e.watch(()=>s.modelValue,(x,y)=>{JSON.stringify(x)!==JSON.stringify(y)&&g(x)},{deep:!1}),e.watch(()=>t.formData,(x,y)=>{r("update:modelValue",x)},{deep:!0});function u(){t.layout=e.toRef(s,"layout"),o=Object.assign({},o,s.meta),t.meta=o,t.formData=Object.assign({},s.modelValue),c(t.formData,s.meta.properties),t.context=new v,t.validate=new oe(p,t)}function c(x,y){Object.keys(y).forEach(k=>{const b=y[k];if(b.type!=="null")switch(b.type){case R.Object:x[k]=x[k]||{},c(x[k],b.properties);break;case R.Array:x[k]=x[k]||[];break;case R.Boolean:break;default:x[k]=x[k]||void 0;break}})}function m(x){return t.context.getContext(x)}async function h(){return await t.validate.runValidateForm()}function g(x){const y=t.context.getContext("/");y&&(y.value=x,r("update:modelValue",t.formData))}function C(){r("form-reset",e.toRaw(t.formData)),g({})}async function w(){i.value=!0;const x=await h();i.value=!1,r("form-submit",{valid:x,data:x?e.toRaw(t.formData):void 0})}return e.onBeforeUnmount(()=>{f.all.clear()}),a({getContext:m,validate:h,reset:g,clearForm:C,submitForm:w}),(x,y)=>{const k=e.resolveComponent("el-button"),b=e.resolveComponent("el-space"),D=e.resolveComponent("el-form-item"),L=e.resolveComponent("el-form");return e.openBlock(),e.createElementBlock("div",nt,[e.createVNode(L,{class:e.normalizeClass(["v",{v__inline:e.unref(d),v__horizontal:n.layout==="horizontal"}]),inline:e.unref(d),"label-width":e.unref(d)?null:"120px","label-position":n.layout==="vertical"?"top":"right"},{default:e.withCtx(()=>[e.createVNode(se,{id:"/",meta:e.unref(o)},e.createSlots({_:2},[e.renderList(e.unref(l),z=>({name:z,fn:e.withCtx(H=>[e.renderSlot(x.$slots,z,e.normalizeProps(e.guardReactiveProps({...H})))])}))]),1032,["meta"]),n.button==="default"?(e.openBlock(),e.createBlock(D,{key:0,class:"v__default-submit-button"},{default:e.withCtx(()=>[e.createVNode(b,null,{default:e.withCtx(()=>[e.createVNode(k,{type:"danger",onClick:C},{default:e.withCtx(()=>[e.createTextVNode(" \u91CD\u7F6E ")]),_:1}),e.createVNode(k,{type:"primary",onClick:w,loading:e.unref(i)},{default:e.withCtx(()=>[e.createTextVNode(" \u63D0\u4EA4 ")]),_:1},8,["loading"])]),_:1})]),_:1})):n.button==="custom"?e.renderSlot(x.$slots,"button",{key:1,loading:e.unref(i),clearForm:C,submitForm:w}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[],64))]),_:3},8,["inline","label-width","label-position","class"])])}}}),rt=["title"],lt={key:0,class:"v__optional"},st=["innerHTML"],it={name:"v-wrapper"},ct=e.defineComponent({...it,props:{id:null,show:{type:Boolean},meta:null},setup(n){const a=n,{globalProperties:r}=q(),s=e.inject("state"),o=s.context.getContext(a.id),i=e.computed(()=>Object.assign({},s.ui,a.meta.ui)),t=e.computed(()=>Object.assign({},s.ui,a.meta.ui).optionalHelp),l=e.computed({get(){return o.error.value},set(u){o.error.value=u}}),{appContext:p}=e.getCurrentInstance(),f=F(p);f.on(`${M}-${s._formId}`,d),e.onBeforeUnmount(()=>{f.off(`${M}-${s._formId}`,d)});function d(u){u.id===a.id&&(l.value=u.error?u.error.message:void 0)}return(u,c)=>{const m=e.resolveComponent("el-icon"),h=e.resolveComponent("el-tooltip"),g=e.resolveComponent("el-form-item");return e.openBlock(),e.createBlock(g,{required:e.unref(i).showRequired,error:e.unref(l),size:e.unref(i).size,class:e.normalizeClass([{"no-label":!n.meta.title}])},e.createSlots({default:e.withCtx(()=>[e.renderSlot(u.$slots,"default",{},void 0,!0),n.meta.description?(e.openBlock(),e.createElementBlock("div",{key:0,innerHTML:n.meta.description},null,8,st)):e.createCommentVNode("",!0)]),_:2},[n.meta.title?{name:"label",fn:e.withCtx(()=>[e.createElementVNode("span",{class:"v__label-text",title:n.meta.title},e.toDisplayString(n.meta.title),9,rt),e.unref(i).optional||e.unref(t)?(e.openBlock(),e.createElementBlock("span",lt,[e.createTextVNode(e.toDisplayString(e.unref(i).optional)+" ",1),e.unref(t).icon?(e.openBlock(),e.createBlock(h,e.mergeProps({key:0},e.unref(t),{placement:e.unref(t).placement||"top"}),{default:e.withCtx(()=>[e.createVNode(m,null,{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).$elIcons[e.unref(t).icon])))]),_:1})]),_:1},16,["placement"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),key:"0"}:void 0]),1032,["required","error","size","class"])}}}),Tt="",P=G(ct,[["__scopeId","data-v-fd574d86"]]),dt=e.defineComponent({__name:"Object",props:{id:null,meta:null},setup(n){const a=n,{slotsName:r}=U(a.meta),s=e.inject("state"),{appContext:o}=e.getCurrentInstance(),i=new ae(o,s,a.id,a.meta),t=e.computed(()=>i.ui.value||{}),l=e.computed(()=>p.value==="inline"?0:Object.assign({},s.ui.grid,t.value.grid).gutter),p=e.computed(()=>s.layout.value);function f(c){return c.ui&&c.ui.show}function d(c){if(p.value==="inline")return{span:null};const m=c.meta.ui&&c.meta.ui.grid||{};return Object.assign({},s.ui.grid,t.value.grid,m)}const u=i.childMetaPairs;return(c,m)=>{const h=e.resolveComponent("el-col"),g=e.resolveComponent("el-row");return e.openBlock(),e.createBlock(g,{gutter:e.unref(l)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(u),(C,w)=>(e.openBlock(),e.createBlock(h,{key:w,span:d(C).span,offset:d(C).offset,xs:d(C).xs,sm:d(C).sm,md:d(C).md,lg:d(C).lg,xl:d(C).xl,xxl:d(C).xxl,style:e.normalizeStyle({display:e.unref(p)==="inline"?"inline-block":"block"})},{default:e.withCtx(()=>[e.createVNode(se,{id:C.key,meta:C.meta,show:f(C.meta)},e.createSlots({_:2},[e.renderList(e.unref(r),x=>({name:x,fn:e.withCtx(y=>[e.renderSlot(c.$slots,x,e.normalizeProps(e.guardReactiveProps({...y})))])}))]),1032,["id","meta","show"])]),_:2},1032,["span","offset","xs","sm","md","lg","xl","xxl","style"]))),128))]),_:3},8,["gutter"])}}}),ft=e.defineComponent({__name:"String",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElInput.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f){t.value.change&&t.value.change(f)}return(f,d)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElInput),e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,minlength:n.meta.minLength,maxlength:n.meta.maxLength,modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=u=>e.isRef(l)?l.value=u:null),onChange:p}),e.createSlots({_:2},[e.unref(t).slotNameOfPrefix?{name:"prefix",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfPrefix)]),key:"0"}:void 0,e.unref(t).slotNameOfSuffix?{name:"suffix",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfSuffix)]),key:"1"}:void 0,e.unref(t).slotNameOfPrepend?{name:"prepend",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfPrepend)]),key:"2"}:void 0,e.unref(t).slotNameOfAppend?{name:"append",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfAppend)]),key:"3"}:void 0]),1040,["disabled","minlength","maxlength","modelValue"])]),_:3},8,["id","meta"]))}}),mt=e.defineComponent({__name:"Boolean",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new re(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElSwitch.props),o.ui),t=e.computed(()=>o.ui.value||{});i.value.style=e.toRef(t.value,"style");const l=e.computed({get(){return o.value},set(f){o.value=f||!1}});function p(f){t.value.change&&t.value.change(f)}return(f,d)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElSwitch),e.mergeProps({class:"v__boolean",modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=u=>e.isRef(l)?l.value=u:null)},e.unref(i),{disabled:n.meta.readOnly,onChange:p}),null,16,["modelValue","disabled"])]),_:1},8,["id","meta"]))}}),ut=e.defineComponent({__name:"AutoComplete",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElAutocomplete.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(d){o.value=d||void 0}});function p(d){t.value.change&&t.value.change(e.unref(d))}function f(d){t.value.select&&t.value.select(d)}return(d,u)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElAutocomplete),e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,modelValue:e.unref(l),"onUpdate:modelValue":u[0]||(u[0]=c=>e.isRef(l)?l.value=c:null),onChange:p,onSelect:f}),e.createSlots({_:2},[e.unref(t).slotNameOfPrefix?{name:"prefix",fn:e.withCtx(()=>[e.renderSlot(d.$slots,e.unref(t).slotNameOfPrefix)]),key:"0"}:void 0,e.unref(t).slotNameOfSuffix?{name:"suffix",fn:e.withCtx(()=>[e.renderSlot(d.$slots,e.unref(t).slotNameOfSuffix)]),key:"1"}:void 0,e.unref(t).slotNameOfPrepend?{name:"prepend",fn:e.withCtx(()=>[e.renderSlot(d.$slots,e.unref(t).slotNameOfPrepend)]),key:"2"}:void 0,e.unref(t).slotNameOfAppend?{name:"append",fn:e.withCtx(()=>[e.renderSlot(d.$slots,e.unref(t).slotNameOfAppend)]),key:"3"}:void 0,e.unref(t).slotNameOfDefault?{name:"default",fn:e.withCtx(c=>[e.renderSlot(d.$slots,e.unref(t).slotNameOfDefault,e.normalizeProps(e.guardReactiveProps(c)))]),key:"4"}:void 0]),1040,["disabled","modelValue"])]),_:3},8,["id","meta"]))}}),pt=e.defineComponent({__name:"Checkbox",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),i=e.computed(()=>o.ui.value||{});let t=e.ref();if(i.value.group){const{bindings:f}=_(Object.keys(B.ElCheckboxGroup.props),o.ui);t.value=f.value}else{const{bindings:f}=_(Object.keys(B.ElCheckbox.props),o.ui);t.value=f.value}const l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f){i.value.change&&i.value.change(f)}return(f,d)=>{const u=e.resolveComponent("el-checkbox-button");return e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.unref(i).group?(e.openBlock(),e.createBlock(e.unref(B.ElCheckboxGroup),e.mergeProps({key:0,class:"v__checkbox",modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=c=>e.isRef(l)?l.value=c:null)},e.unref(t),{disabled:n.meta.readOnly,onChange:p}),{default:e.withCtx(()=>[e.unref(i).button?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(i).options,(c,m)=>(e.openBlock(),e.createBlock(u,{key:m,label:c.label},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.label),1)]),_:2},1032,["label"]))),128)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(i).options,(c,m)=>(e.openBlock(),e.createBlock(e.unref(B.ElCheckbox),{key:m,label:c.label,disabled:c.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.label),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},16,["modelValue","disabled"])):(e.openBlock(),e.createBlock(e.unref(B.ElCheckbox),e.mergeProps({key:1,class:"v__checkbox",modelValue:e.unref(l),"onUpdate:modelValue":d[1]||(d[1]=c=>e.isRef(l)?l.value=c:null)},e.unref(t),{disabled:n.meta.readOnly,onChange:p}),null,16,["modelValue","disabled"]))]),_:1},8,["id","meta"])}}}),ht=e.defineComponent({__name:"Date",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElDatePicker.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f){t.value.change&&t.value.change(f)}return(f,d)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElDatePicker),e.mergeProps({modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=u=>e.isRef(l)?l.value=u:null)},e.unref(i),{disabled:n.meta.readOnly,onChange:p}),e.createSlots({_:2},[e.unref(t).slotNameOfRangeSeparator?{name:"range-separator",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfRangeSeparator)]),key:"0"}:void 0,e.unref(t).slotNameOfDefault?{name:"default",fn:e.withCtx(u=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfDefault,e.normalizeProps(e.guardReactiveProps(u)))]),key:"1"}:void 0]),1040,["modelValue","disabled"])]),_:3},8,["id","meta"]))}}),gt=e.defineComponent({__name:"Time",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElTimePicker.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f){t.value.change&&t.value.change(f)}return(f,d)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElTimePicker),e.mergeProps({class:"v__time",modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=u=>e.isRef(l)?l.value=u:null)},e.unref(i),{disabled:n.meta.readOnly,onChange:p}),null,16,["modelValue","disabled"])]),_:1},8,["id","meta"]))}}),Ct=e.defineComponent({__name:"Number",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElInputNumber.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f,d){t.value.change&&t.value.change(f,d)}return(f,d)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElInputNumber),e.mergeProps({class:"v__number",modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=u=>e.isRef(l)?l.value=u:null)},e.unref(i),{disabled:n.meta.readOnly,min:n.meta.minimum,max:n.meta.maximum,onChange:p}),null,16,["modelValue","disabled","min","max"])]),_:1},8,["id","meta"]))}}),yt={class:"v__label-text"},xt=["innerHTML"],kt=["textContent"],bt=e.defineComponent({__name:"Text",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),i=e.computed(()=>o.ui.value||{}),t=e.computed(()=>te(e.unref(i).text)?e.unref(i).text():e.unref(i).text);return(l,p)=>{const f=e.resolveComponent("el-form-item");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(f,{class:e.normalizeClass({"no-label":!n.meta.title})},e.createSlots({default:e.withCtx(()=>[e.unref(i).slotNameOfDefault?e.renderSlot(l.$slots,e.unref(i).slotNameOfDefault,{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(i).html?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:e.unref(i).html,class:"v__content-text"},null,8,xt)):(e.openBlock(),e.createElementBlock("span",{key:1,textContent:e.toDisplayString(e.unref(t)),class:"v__content-text"},null,8,kt))],64))]),_:2},[n.meta.title?{name:"label",fn:e.withCtx(()=>[e.createElementVNode("span",yt,e.toDisplayString(n.meta.title),1)]),key:"0"}:void 0]),1032,["class"])])}}}),_t=e.defineComponent({__name:"Slider",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElSlider.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(d){t.value.range?o.value=d||[]:o.value=Q(d)?d:void 0}});function p(d){var u,c;(c=(u=e.unref(t)).input)==null||c.call(u,d)}function f(d){var u,c;(c=(u=e.unref(t)).change)==null||c.call(u,d)}return(d,u)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElSlider),e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,min:n.meta.minimum||0,max:n.meta.maximum||100,step:n.meta.multipleOf||1,modelValue:e.unref(l),"onUpdate:modelValue":u[0]||(u[0]=c=>e.isRef(l)?l.value=c:null),onInput:p,onChange:f}),null,16,["disabled","min","max","step","modelValue"])]),_:1},8,["id","meta"]))}}),wt=e.defineComponent({__name:"Rate",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElRate.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f){var d,u;(u=(d=e.unref(t)).change)==null||u.call(d,f)}return(f,d)=>(e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElRate),e.mergeProps(e.unref(i),{disabled:n.meta.readOnly,max:n.meta.maximum||5,modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=u=>e.isRef(l)?l.value=u:null),onChange:p}),null,16,["disabled","max","modelValue"])]),_:1},8,["id","meta"]))}}),Ot=e.defineComponent({__name:"Tag",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new T(s,r,a.id,a.meta),i=e.ref([]),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(u){t.value.range?o.value=u||[]:o.value=u}});e.watch(()=>e.unref(o.meta).enum,d,{immediate:!0});function p(u,c){var m,h,g,C;u.disabled||(u.checked=c,f(),(h=(m=e.unref(t)).checkedChange)==null||h.call(m,c),(C=(g=e.unref(t)).change)==null||C.call(g,e.toRaw(e.unref(l))))}function f(){const u=e.unref(i).filter(c=>c.checked).map(c=>c.value);l.value=u.length?u:void 0}function d(u){let c=e.unref(u);c==null||!Array.isArray(c)||c.length===0||(typeof c[0]!="object"&&(c=c.map(m=>({label:m,value:m}))),c.forEach(m=>{m.checked=(l.value||[]).indexOf(m.value)>-1}),c.forEach(m=>m.disabled=a.meta.readOnly),i.value=c)}return(u,c)=>{const m=e.resolveComponent("el-check-tag");return e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,h=>(e.openBlock(),e.createBlock(m,{key:h.value,class:e.normalizeClass({disabled:h.disabled}),checked:h.checked,onChange:g=>p(h,g)},{default:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(h.label),1)]),_:2},1032,["class","checked","onChange"]))),128))]),_:1},8,["id","meta"])}}}),Lt="",Bt=G(Ot,[["__scopeId","data-v-19eb1c83"]]),Nt=e.defineComponent({__name:"Radio",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElRadioGroup.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(f){o.value=f}});function p(f){t.value.change&&t.value.change(f)}return(f,d)=>{const u=e.resolveComponent("el-radio-button"),c=e.resolveComponent("el-radio");return e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElRadioGroup),e.mergeProps(e.unref(i),{modelValue:e.unref(l),"onUpdate:modelValue":d[0]||(d[0]=m=>e.isRef(l)?l.value=m:null),disabled:n.meta.readOnly,onChange:p}),e.createSlots({default:e.withCtx(()=>[e.unref(t).button?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(e.unref(t).options,(m,h)=>(e.openBlock(),e.createBlock(u,{key:h,label:m.label,size:e.unref(t).size,border:e.unref(t).border,disabled:n.meta.readOnly||m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.text||m.label),1)]),_:2},1032,["label","size","border","disabled"]))),128)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(t).options,(m,h)=>(e.openBlock(),e.createBlock(c,{key:h,label:m.label,size:e.unref(t).size,border:e.unref(t).border,disabled:n.meta.readOnly||m.disabled},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.text||m.label),1)]),_:2},1032,["label","size","border","disabled"]))),128))]),_:2},[e.unref(t).slotNameOfDefault?{name:"default",fn:e.withCtx(()=>[e.renderSlot(f.$slots,e.unref(t).slotNameOfDefault)]),key:"0"}:void 0]),1040,["modelValue","disabled"])]),_:3},8,["id","meta"])}}}),Vt=e.defineComponent({__name:"Select",props:{id:null,meta:null},setup(n){const a=n,r=e.inject("state"),{appContext:s}=e.getCurrentInstance(),o=new N(s,r,a.id,a.meta),{bindings:i}=_(Object.keys(B.ElSelect.props),o.ui),t=e.computed(()=>o.ui.value||{}),l=e.computed({get(){return o.value},set(h){o.value=h}});function p(h){e.unref(t).change&&e.unref(t).change(h)}function f(){e.unref(t).blur&&e.unref(t).blur()}function d(h){e.unref(t).visibleChange&&e.unref(t).visibleChange(h)}function u(){e.unref(t).focus&&e.unref(t).focus()}function c(){e.unref(t).clear&&e.unref(t).clear()}function m(h){e.unref(t).select&&e.unref(t).removeTag(h)}return(h,g)=>{const C=e.resolveComponent("el-option");return e.openBlock(),e.createBlock(P,{id:n.id,meta:n.meta},{default:e.withCtx(()=>[e.createVNode(e.unref(B.ElSelect),e.mergeProps({modelValue:e.unref(l),"onUpdate:modelValue":g[0]||(g[0]=w=>e.isRef(l)?l.value=w:null)},e.unref(i),{disabled:n.meta.readOnly,onBlur:f,onFocus:u,onClear:c,onRemoveTag:m,onVisibleChange:d,onChange:p}),e.createSlots({default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t).options,(w,x)=>(e.openBlock(),e.createBlock(C,{key:x,label:w.label,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:2},[e.unref(t).slotNameOfSelectDefault?{name:"default",fn:e.withCtx(()=>[e.renderSlot(h.$slots,e.unref(t).slotNameOfSelectDefault)]),key:"0"}:void 0,e.unref(t).slotNameOfPrefix?{name:"prefix",fn:e.withCtx(()=>[e.renderSlot(h.$slots,e.unref(t).slotNameOfPrefix)]),key:"1"}:void 0,e.unref(t).slotNameOfEmpty?{name:"empty",fn:e.withCtx(()=>[e.renderSlot(h.$slots,e.unref(t).slotNameOfEmpty)]),key:"2"}:void 0]),1040,["modelValue","disabled"])]),_:3},8,["id","meta"])}}});function I(n,a,r){n.component(a,r)}function St(n){I(n,"v-object",dt),I(n,"v-string",ft),I(n,"v-boolean",mt),I(n,"v-autocomplete",ut),I(n,"v-checkbox",pt),I(n,"v-date",ht),I(n,"v-number",Ct),I(n,"v-time",gt),I(n,"v-text",bt),I(n,"v-radio",Nt),I(n,"v-slider",_t),I(n,"v-rate",wt),I(n,"v-tag",Bt),I(n,"v-select",Vt)}const $t=[at,P];function Et(n){$t.forEach(a=>{n.component(a.name,a)}),St(n)}const It={installFormly:Et},jt={install:function(n,a){if(n.config.globalProperties.emitter=fe.default(),!a.lib||a.lib==="ant-design-vue")tt.installFormly(n);else if(a.lib==="element-plus")It.installFormly(n);else throw new Error("Unsupport lib");return n.config.globalProperties.$VFORMLY_OPTIONS=a,n}};S.default=jt,Object.defineProperties(S,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
